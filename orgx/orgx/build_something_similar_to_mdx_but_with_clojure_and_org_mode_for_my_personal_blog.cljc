(ns orgx.build-something-similar-to-mdx-but-with-clojure-and-org-mode-for-my-personal-blog (:require [uix.core :as uix :refer [defui use-state use-effect use-context $]] [net.coruscation.cerulean.utils :refer [cljc-case]] [net.coruscation.cerulean.common.components :refer [note info warn warning error tabs split-layout showcase]] [net.coruscation.cerulean.components :as comp] [orgx.note :as note]))
(defui _comp [post-props] ($ :<> ($ :div {:class "uix", :id "org7f47cd8"} ($ :p {} "\n($ note/component \"This post is a draft\")\n")) ($ :p {} "\nOne thing I always want to have for this blog is, the ability to use arbitrary component defined in Clojure code (this blog program is written in Clojure/ClojureScript).\n") ($ :p {} "\nThere is already " ($ :a {:href "https://mdxjs.com/"} "MDX") " in the JavaScript world. We could turn our org files into markdown files, generate JavaScript files from them using " ($ :code {} "MDX") ", and use the JS files from ClojureScript. But doing this way means we will have to using JavaScript to do Server Side Rendering or Static Generation, while this blog is doing static generation using Clojure on the JVM.\n") ($ :p {} "\nInstead, we could also generated Clojure code from the Org files. Although Cljc code is not of pure s-expression, it is still rather easy to manipulate. Doing this will also allow us to use Cljc conditional macros. Thus it works well with static generation on the JVM. \n") ($ :p {} "\nThis post is composed of two parts. The first is about how I make it; some details specified to this blog program are omitted. The second part illustrates its features.\n") ($ :div {:id "outline-container-generate-clojure-code-from-org-file", :class "outline-2"} ($ :a {:href "#generate-clojure-code-from-org-file"} ($ :h2 {:id "generate-clojure-code-from-org-file", :class "cr-self-reference "} "Generate Clojure Code from Org file")) ($ :div {:class "outline-text-2", :id "text-generate-clojure-code-from-org-file"} ($ :p {} "\nThis is a somewhat difficult problem to tackle. The method I have chosen is to use HTML as an intermediary format. \n")) ($ :div {:id "outline-container-convert-org-file-into-html", :class "outline-3"} ($ :a {:href "#convert-org-file-into-html"} ($ :h3 {:id "convert-org-file-into-html", :class "cr-self-reference "} "Convert Org File into HTML")) ($ :div {:class "outline-text-3", :id "text-convert-org-file-into-html"})) ($ :div {:id "outline-container-convert-html-into-clojure-code", :class "outline-3"} ($ :a {:href "#convert-html-into-clojure-code"} ($ :h3 {:id "convert-html-into-clojure-code", :class "cr-self-reference "} "Convert HTML into Clojure code")) ($ :div {:class "outline-text-3", :id "text-convert-html-into-clojure-code"}))) ($ :div {:id "outline-container-make-~shadow-cljs~-recognize-and-compile-them-as-modules", :class "outline-2"} ($ :a {:href "#make-~shadow-cljs~-recognize-and-compile-them-as-modules"} ($ :h2 {:id "make-~shadow-cljs~-recognize-and-compile-them-as-modules", :class "cr-self-reference "} "Make " ($ :code {} "shadow-cljs") " Recognize and Compile Them as Modules")) ($ :div {:class "outline-text-2", :id "text-make-~shadow-cljs~-recognize-and-compile-them-as-modules"})) ($ :div {:id "outline-container-dynamically-load-modules-from-the-blog-program", :class "outline-2"} ($ :a {:href "#dynamically-load-modules-from-the-blog-program"} ($ :h2 {:id "dynamically-load-modules-from-the-blog-program", :class "cr-self-reference "} "Dynamically Load Modules from The Blog Program")) ($ :div {:class "outline-text-2", :id "text-dynamically-load-modules-from-the-blog-program"})) ($ :div {:id "outline-container-demonstration", :class "outline-2"} ($ :a {:href "#demonstration"} ($ :h2 {:id "demonstration", :class "cr-self-reference "} "Demonstration")) ($ :div {:class "outline-text-2", :id "text-demonstration"}))))
(defui component [props] ($ _comp (merge (quote {:blog/orgx true, :blog/tags [], :blog/unlisted true, :blog/title "Build Something Similar to MDX but with Clojure and org-mode for My Personal Blog", :blog/show-toc? true, :blog/file-path "/home/void/Projects/imakira.github.io/blogs/build-something-similar-to-mdx-but-with-Clojure-and-org-mode.org", :blog/author nil, :blog/email nil, :blog/description "($ note/component \"This post is a draft\")One thing I always want to have for this blog is, the ability to use arbitrary component defined in Clojure code (...", :blog/id "build-something-similar-to-mdx-but-with-clojure-and-org-mode-for-my-personal-blog", :blog/category "Coding", :blog/language "en_US", :blog/published-date "2026-01-03T01:47:09+08:00", :blog/content "<div class=\"uix\" id=\"org7f47cd8\">\n<p>\n($ note/component &quot;This post is a draft&quot;)\n</p>\n\n</div>\n\n<p>\nOne thing I always want to have for this blog is, the ability to use arbitrary component defined in Clojure code (this blog program is written in Clojure/ClojureScript).\n</p>\n\n<p>\nThere is already <a href=\"https://mdxjs.com/\">MDX</a> in the JavaScript world. We could turn our org files into markdown files, generate JavaScript files from them using <code>MDX</code>, and use the JS files from ClojureScript. But doing this way means we will have to using JavaScript to do Server Side Rendering or Static Generation, while this blog is doing static generation using Clojure on the JVM.\n</p>\n\n<p>\nInstead, we could also generated Clojure code from the Org files. Although Cljc code is not of pure s-expression, it is still rather easy to manipulate. Doing this will also allow us to use Cljc conditional macros. Thus it works well with static generation on the JVM. \n</p>\n\n<p>\nThis post is composed of two parts. The first is about how I make it; some details specified to this blog program are omitted. The second part illustrates its features.\n</p>\n<div id=\"outline-container-generate-clojure-code-from-org-file\" class=\"outline-2\">\n<a href=\"#generate-clojure-code-from-org-file\"><h2 id=\"generate-clojure-code-from-org-file\" class=\"cr-self-reference \">Generate Clojure Code from Org file</h2></a>\n<div class=\"outline-text-2\" id=\"text-generate-clojure-code-from-org-file\">\n<p>\nThis is a somewhat difficult problem to tackle. The method I have chosen is to use HTML as an intermediary format. \n</p>\n</div>\n<div id=\"outline-container-convert-org-file-into-html\" class=\"outline-3\">\n<a href=\"#convert-org-file-into-html\"><h3 id=\"convert-org-file-into-html\" class=\"cr-self-reference \">Convert Org File into HTML</h3></a>\n<div class=\"outline-text-3\" id=\"text-convert-org-file-into-html\">\n</div>\n</div>\n<div id=\"outline-container-convert-html-into-clojure-code\" class=\"outline-3\">\n<a href=\"#convert-html-into-clojure-code\"><h3 id=\"convert-html-into-clojure-code\" class=\"cr-self-reference \">Convert HTML into Clojure code</h3></a>\n<div class=\"outline-text-3\" id=\"text-convert-html-into-clojure-code\">\n</div>\n</div>\n</div>\n<div id=\"outline-container-make-~shadow-cljs~-recognize-and-compile-them-as-modules\" class=\"outline-2\">\n<a href=\"#make-~shadow-cljs~-recognize-and-compile-them-as-modules\"><h2 id=\"make-~shadow-cljs~-recognize-and-compile-them-as-modules\" class=\"cr-self-reference \">Make <code>shadow-cljs</code> Recognize and Compile Them as Modules</h2></a>\n<div class=\"outline-text-2\" id=\"text-make-~shadow-cljs~-recognize-and-compile-them-as-modules\">\n</div>\n</div>\n<div id=\"outline-container-dynamically-load-modules-from-the-blog-program\" class=\"outline-2\">\n<a href=\"#dynamically-load-modules-from-the-blog-program\"><h2 id=\"dynamically-load-modules-from-the-blog-program\" class=\"cr-self-reference \">Dynamically Load Modules from The Blog Program</h2></a>\n<div class=\"outline-text-2\" id=\"text-dynamically-load-modules-from-the-blog-program\">\n</div>\n</div>\n<div id=\"outline-container-demonstration\" class=\"outline-2\">\n<a href=\"#demonstration\"><h2 id=\"demonstration\" class=\"cr-self-reference \">Demonstration</h2></a>\n<div class=\"outline-text-2\" id=\"text-demonstration\">\n</div>\n</div>\n", :blog/orgx-require [[net.coruscation.cerulean.components :as comp] [orgx.note :as note]], :blog/modified-date "2026-01-03T01:47:09+08:00"}) props)))