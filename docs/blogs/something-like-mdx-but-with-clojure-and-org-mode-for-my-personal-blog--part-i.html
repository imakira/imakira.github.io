<!DOCTYPE html><html class="no-js" lang="en"><head><meta charset="utf-8" /><meta content="ie=edge" http-equiv="x-ua-compatible" /><meta content="MDX  is a tool lets you write JavaScript and JSX in a Markdown file. It will then compile the Markdown file into a JavaScript file, so that we can use it f..." name="description" /><meta content="width=device-width, initial-scale=1" name="viewport" /><title>Something Like MDX but with Clojure and Org-Mode for My Personal Blog: Part I | Coruscation.net</title><link href="https://fonts.googleapis.com" rel="preconnect" /><link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" /><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&amp;display=swap" rel="stylesheet" /><link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&amp;icon_names=keyboard_arrow_down" rel="stylesheet" /><link href="/main.css?v=1767541589382" rel="stylesheet" /><link href="https://coruscation.net/atom.xml" rel="alternate" title="Coruscation.net" type="application/rss+xml" /><link href="/js/main.js" rel="modulepreload" /><link href="/js/./orgx.something-like-mdx-but-with-clojure-and-org-mode-for-my-personal-blog--part-i.js" rel="modulepreload" /></head><body><div id="root"><div class="app h-dvh w-full xl:grid xl:grid-cols-[20rem_9fr]"><div class="transition-all"><div class="bg-opacity-100 px-4 relative bg-[#0260B3] sm:flex sm:justify-between block gap-4 xl:grid xl:grid-cols-[2fr_3fr] xl:h-dvh xl:fixed xl:w-[20rem]"><a class="flex justify-center block" href="/"><span class="text-3xl text-cyan-50 pt-4 sm:py-6 xl:sideways-lr xl:text-6xl xl:pb-8">Coruscation.net</span></a><div class="flex justify-center"><div class="flex flex-col items-center justify-end py-1 relative left-[0.275rem] sm:items-end xl:justify-between"><div class="navigator-bar gap-3 text-base text-slate-50 opacity-80 flex px-5 my-2 xl:text-2xl xl:flex-col xl:pt-6"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300 group-hover:bg-yellow-400"></div><div class="relative w-full h-full"><div class="px-1 group-hover:text-cyan-50 text-lg"><a href="/">HOME</a></div></div></div><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300 group-hover:bg-yellow-400"></div><div class="relative w-full h-full"><div class="px-1 group-hover:text-cyan-50 text-lg"><a href="https://github.com/imakira">ABOUT</a></div></div></div><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300 group-hover:bg-yellow-400"></div><div class="relative w-full h-full"><div class="px-1 group-hover:text-cyan-50 text-lg"><a href="https://github.com/imakira">PROJECTS</a></div></div></div></div><div class="justify-center w-full mb-8 relative hidden xl:flex"><div class="flex relative"><a href="/atom.xml"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="40" height="32">&lt;!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --&gt;<path d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM96 136c0-13.3 10.7-24 24-24c137 0 248 111 248 248c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-110.5-89.5-200-200-200c-13.3 0-24-10.7-24-24zm0 96c0-13.3 10.7-24 24-24c83.9 0 152 68.1 152 152c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-57.4-46.6-104-104-104c-13.3 0-24-10.7-24-24zm0 120a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"></path></svg></a><a href="https://github.com/imakira/cerulean"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" width="40" height="32">&lt;!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --&gt;<path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a href=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="40" height="32">&lt;!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --&gt;<path d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM218 271.7L64.2 172.4C66 156.4 79.5 144 96 144l256 0c16.5 0 30 12.4 31.8 28.4L230 271.7c-1.8 1.2-3.9 1.8-6 1.8s-4.2-.6-6-1.8zm29.4 26.9L384 210.4 384 336c0 17.7-14.3 32-32 32L96 368c-17.7 0-32-14.3-32-32l0-125.6 136.6 88.2c7 4.5 15.1 6.9 23.4 6.9s16.4-2.4 23.4-6.9z"></path></svg></a></div></div></div></div></div></div><main class="pt-5 px-2 sm:px-4 xl:pt-7 xl:px-8"><div class="px-4 relative"><div><h1 class="font-medium text-neutral-700 leading-tight text-2xl sm:text-[2rem]">Something Like MDX but with Clojure and Org-Mode for My Personal Blog: Part I</h1><hr class="border-t-1 border-slate-500 w-full my-3"/><div class="text-base grid items-center text-gray-700 pl-[1px] grid-cols-[7rem_1fr]"><div class="text-sky-700 border-l-2 pl-2 text-lg">Coding</div><span class="flex items-center gap-4"><span class="flex items-center gap-2"><span class="text-gray-600">Pub.</span><span class="text-base text-gray-700">Jan 03, 2026</span></span><span class="flex items-center gap-2"><span class="text-gray-600">Upd.</span><span class="text-base text-gray-700">Jan 03, 2026</span></span></span></div></div><div></div><input id="toc-mobile-control" class="hidden" type="checkbox"/><label class=" toc-header cursor-pointer select-none block text-sky-700 border-1 pl-2  flex justify-between items-center mt-3 bg-white sticky top-0 h-8 pr-1  md:hidden ml-[1px] relative " for="toc-mobile-control"><div class="relative h-full w-full overflow-hidden"><div class="text-lg toc-header-text relative  w-full transition-all "><div class="h-8 w-96">Table Of Content</div><div class="h-8 w-96 overflow-hidden">How OrgX Works</div><div class="h-8 w-96 overflow-hidden">Basic Usage</div><div class="h-8 w-96 overflow-hidden">Toplevel Clojure Code</div><div class="h-8 w-96 overflow-hidden">Import Modules</div><div class="h-8 w-96 overflow-hidden">Access Component Properties</div><div class="h-8 w-96 overflow-hidden">Use Other OrgX Files as Components</div><div class="h-8 w-96 overflow-hidden">Use OrgX With Native Org Syntax</div><div class="h-8 w-96 overflow-hidden">Use Components</div><div class="h-8 w-96 overflow-hidden">Build Components</div><div class="h-8 w-96 overflow-hidden">Inline OrgX with Macros</div><div class="h-8 w-96 overflow-hidden">Builtin Components</div><div class="h-8 w-96 overflow-hidden">Simple Notice Blocks</div><div class="h-8 w-96 overflow-hidden">Tabs</div><div class="h-8 w-96 overflow-hidden">Split Layout</div><div class="h-8 w-96 overflow-hidden">Showcase</div><div class="h-8 w-96 overflow-hidden">Conclusions</div><div class="h-8 w-96 overflow-hidden">Caveats</div><div class="h-8 w-96 overflow-hidden">Future Plans</div></div></div><span class="material-symbols-outlined checked:rotate-180 transition-all dropdown-icon">keyboard_arrow_down</span></label><div class="toc-mobile-wrapper2 h-1 sticky top-8"><div class="grid toc-mobile-wrapper transition-all border-neutral-400 border-l-1 bg-white md:hidden ml-[1px] "><ul class="toc-mobile-content text-[1.05rem] 2xl:text-lg "><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-4" href="#how-orgx-works"><span>How OrgX Works</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-4" href="#basic-usage"><span>Basic Usage</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#toplevel-clojure-code"><span>Toplevel Clojure Code</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#import-modules"><span>Import Modules</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#access-component-properties"><span>Access Component Properties</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#use-other-orgx-files-as-components"><span>Use Other OrgX Files as Components</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-4" href="#use-orgx-with-native-org-syntax"><span>Use OrgX With Native Org Syntax</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#use-components"><span>Use Components</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#build-components"><span>Build Components</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#inline-orgx-with-macros"><span>Inline OrgX with Macros</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-4" href="#builtin-components"><span>Builtin Components</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#simple-remarks"><span>Simple Notice Blocks</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#tabs"><span>Tabs</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#split-layout"><span>Split Layout</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#showcase"><span>Showcase</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-4" href="#conclusions"><span>Conclusions</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#caveats"><span>Caveats</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#future-plans"><span>Future Plans</span></a></div></div></div></li></ul></div></div><div class="gap-8 w-full h-full md:grid md:grid-cols-[minmax(0px,7fr)_minmax(17rem,17rem)] 2xl:grid-cols-[minmax(0px,7fr)_minmax(20rem,20rem)]"><div class="cr-document md:mt-1"><p><a href="https://mdxjs.com/">MDX</a> is a tool lets you write JavaScript and JSX in a Markdown file. It will then compile the Markdown file into a JavaScript file, so that we can use it from other JavaScript code. I always wanted something similar for my personal blog. For some background, the blogging program is written in Clojure/ClojureScript. The blogging program runs on the JVM, it works by statically generating all the HTML and other files so that the result could be hosted on platforms like Github Pages. Posts of my blog are written in <a href="https://orgmode.org">org-mode</a>. As the blog program runs on the JVM, directly using MDX is theoratically possible, but probably would create a lot of frictions.
</p><p>
Therefore I took some time to implement something similar. Albeit it is not fully tested, the result is quite satisfactory: I can embed Clojure code directly in an Org file, or use React components defined in Clojure code with native Org syntax. The Org file can then be converted into a Cljc file and used from other Clojure code.
</p><p>
In the following sections I will call it <code>OrgX</code>.
</p><div><blockquote class="not-italic bg-stone-50 pl-4 py-2 border-l-3  my-4 border-lime-500"><div class="not-italic font-semibold mb-1 text-gray-700">Info</div><div class="not-italic"><p><i>This is part <b>one</b> of the series, in this post I will show the features and in the next post I will describe the process of implementing it</i></p></div></blockquote></div><div id="outline-container-how-orgx-works" class="outline-2"><a href="#how-orgx-works"><h2 id="how-orgx-works" class="cr-self-reference ">How OrgX Works</h2></a><div id="text-how-orgx-works" class="outline-text-2"><p>
Similar to MDX, OrgX works by compiling the OrgX file into a <a href="https://clojure.org/guides/reader_conditionals">Cljc</a> file. A basic OrgX file would look like this:
</p><section class="my-4 relative border-sky-300 border-l-2 border-l-neutral-100"><div class="my-0 flex relative bg-neutral-100"><button class="font-medium text-neutral-700 bg-neutral-50 py-1 px-2 border-t-2 border-neutral-50 min-w-28 bg-neutral-50 border-t-neutral-100  text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400">example.org</button></div><div class="my-0 bg-neutral-50 overflow-hidden px-2 h-full"><div><pre id="org541b122" class="example">#+ORGX: true

/*Hello* from @@orgx:($ :span &quot;OrgX&quot;)@@/

#+begin_orgx
($ :div (str &quot;Hello&quot; &quot; World!&quot;))
#+end_orgx
</pre></div></div></section><p>
It will be converted into something similar to the following Clojure snippet.
</p><section class="my-4 relative border-sky-300 border-l-2 border-l-neutral-100"><div class="my-0 flex relative bg-neutral-100"><button class="font-medium text-neutral-700 bg-neutral-50 py-1 px-2 border-t-2 border-neutral-50 min-w-28 bg-neutral-50 border-t-neutral-100  text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400">orgx/example.cljc</button></div><div class="my-0 bg-neutral-50 overflow-hidden px-2 h-full"><div><div class="org-src-container"><pre class="cr-highlighted"><code class="lang-clojure">(<span class="hljs-name"><span class="hljs-built_in">ns</span></span> orgx.example
  (<span class="hljs-symbol">:require</span> [uix.core <span class="hljs-symbol">:as</span> uix <span class="hljs-symbol">:refer</span>
             [defui use-state use-effect use-context $]]))

(<span class="hljs-name">defui</span> _comp [post-props]
  ($ <span class="hljs-symbol">:&lt;&gt;</span>
     ($ <span class="hljs-symbol">:p</span> {} ($ <span class="hljs-symbol">:i</span> {}
                 ($ <span class="hljs-symbol">:b</span> {} <span class="hljs-string">&quot;Hello&quot;</span>)
                 <span class="hljs-string">&quot; from &quot;</span>
                 ($ <span class="hljs-symbol">:span</span> <span class="hljs-string">&quot;OrgX&quot;</span>)))
     ($ <span class="hljs-symbol">:div</span> (<span class="hljs-name"><span class="hljs-built_in">str</span></span> <span class="hljs-string">&quot;Hello&quot;</span> <span class="hljs-string">&quot; World!&quot;</span>))))

(<span class="hljs-name">defui</span> component [props]
  ($ _comp (<span class="hljs-name"><span class="hljs-built_in">merge</span></span> (<span class="hljs-name"><span class="hljs-built_in">quote</span></span> {#_<span class="hljs-string">&quot;default properties&quot;</span>}) props)))
</code></pre></div></div></div></section><div><blockquote class="not-italic bg-stone-50 pl-4 py-2 border-l-3  my-4 border-sky-500"><div class="not-italic font-semibold mb-1 text-gray-700">Note</div><div class="not-italic"><p>
The blogging program uses <a href="https://github.com/pitch-io/uix?tab=readme-ov-file">uix</a> as its React wrapper, thus the generated Clojure code is using uix. Some uix functions like <code>$</code> are also imported by default. 
</p></div></blockquote></div><p>
As you can see from this example:
</p><ul class="org-ul"><li>We can <code>@@orgx:@@</code> for inline Clojure code and <code>#+begin_orgx</code> for Clojure blocks.</li><li>The embedded Clojure code are put in a component called <code>_comp</code>, along with other contents in the Org file.</li><li>The outer <code>component</code> wraps the <code>_comp</code> component, its provides some metadata about this post related to the blogging program. More about this on the following sections.</li><li>We can use the <code>component</code> component from other Clojure code.</li></ul></div></div><div id="outline-container-basic-usage" class="outline-2"><a href="#basic-usage"><h2 id="basic-usage" class="cr-self-reference ">Basic Usage</h2></a><div id="text-basic-usage" class="outline-text-2"><p>
As we have seen from the earily example, <code>#+begin_orgx</code> and <code>@@orgx:@@</code> are the most basic structure for standalone and inline Clojure code, respectively.
</p><p>
We can have a clickable button with the following code.
</p><pre id="org68e10f0" class="example">#+begin_orgx
  ;; you can style it using tailwindcss
  ($ :button {:class &quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&quot;
     :on-click (fn [&amp; _]
                   #?(:cljs (js/alert &quot;clicked!&quot;)))}
  &quot;click me&quot;)
#+end_orgx
</pre><p>
That will be rendered as:
</p><button class="my-2 bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg">Click Me</button><p>
Notice the <a href="https://clojure.org/guides/reader_conditionals">reader conditional macro</a> <code>#?(:cljs)</code>  . The generated Clojure code is in a Cljc file, therefore it pairs well with the server side rendering or static generation. However, it also means we need to put the platform specified code in the corresponding reader conditionals.
</p><pre id="org5dd6279" class="example">We can also use the button inline this way: @@orgx:($ :button {:class &quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&quot; :on-click (fn [&amp; _] #?(:cljs (js/alert &quot;clicked!&quot;)))} &quot;Click Me&quot;)@@
</pre><p>
The above snippet will be rendered as:
</p><p>
We can also use the button inline this way: <button class="bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg">Click Me</button></p></div><div id="outline-container-toplevel-clojure-code" class="outline-3"><a href="#toplevel-clojure-code"><h3 id="toplevel-clojure-code" class="cr-self-reference ">Toplevel Clojure Code</h3></a><div id="text-toplevel-clojure-code" class="outline-text-3"><p>
You may have noticed that, all the Clojure code being put in a component means that we can&#x27;t use Clojure code that only works on the top level like <code>defn</code> or <code>require</code>. To solve this, we can use <code>#+attr_orgx_toplevel: true</code> to mark a OrgX block and make its contents appear in toplevel of the generated Clojure file.
</p><p>
Let&#x27;s go back to the button example, we can define a <code>my-button</code> component with the following code:
</p><pre id="orga5c41a8" class="example">#+attr_orgx_toplevel: true
#+begin_orgx
(defui my-button [{:keys [children callback]}]
    ($ :button {:class &quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&quot;
       :on-click (fn [&amp; _]
                   (if callback (callback)))}
    children))
#+end_orgx
</pre><p>
The <code>defui</code> will be put on the top level in the generated Clojure code, along side something like <code>_comp</code>:
</p><div class="org-src-container"><pre class="cr-highlighted"><code class="lang-clojure">(<span class="hljs-name"><span class="hljs-built_in">ns</span></span> ...)
(<span class="hljs-name">defui</span> my-button [{<span class="hljs-symbol">:keys</span> [children callback]}]
  ($ <span class="hljs-symbol">:button</span> {<span class="hljs-symbol">:class</span> <span class="hljs-string">&quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&quot;</span>
              <span class="hljs-symbol">:on-click</span> (<span class="hljs-name"><span class="hljs-built_in">fn</span></span> [&amp; _]
                          #?(<span class="hljs-symbol">:cljs</span> (<span class="hljs-name">callback</span>)))}
     children))

(<span class="hljs-name">defui</span> _comp ...)
</code></pre></div><p>
We can then easily use the <code>my-button</code> component with either inline or standalone OrgX block.
</p><div class="grid overflow-hidden grid-rows-2 lg:grid-rows-1 lg:grid-cols-2 "><section class="my-4 relative border-sky-300 border-l-2 border-l-neutral-100"><div class="my-0 flex relative bg-neutral-100"><button class="font-medium text-neutral-700 bg-neutral-50 py-1 px-2 border-t-2 border-neutral-50 min-w-28 bg-neutral-50 border-t-neutral-100  text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400">Example Usage</button></div><div class="my-0 bg-neutral-50 overflow-hidden px-2 h-full"><div><pre id="org464ca5d" class="example">Inline OrgX block:
@@orgx:($ my-button {:callback (fn [] #?(:cljs (js/alert &quot;Hello From inline OrgX&quot;)))} &quot;From inline OrgX&quot;)@@
#+begin_orgx
($ :div &quot;We can also use it in a orgx block&quot;
    ($ my-button {:callback (fn [] #?(:cljs (js/alert &quot;Hello from OrgX block!&quot;)))}
         &quot;From OrgX block&quot;))
#+end_orgx
</pre></div></div></section><section class="my-4 relative border-sky-300 border-l-2 border-l-neutral-100"><div class="my-0 flex relative bg-neutral-100"><button class="font-medium text-neutral-700 bg-neutral-50 py-1 px-2 border-t-2 border-neutral-50 min-w-28 bg-neutral-50 border-t-neutral-100  text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400">Rendering</button></div><div class="my-0 bg-neutral-50 overflow-hidden px-2 h-full"><div><p>
Inline OrgX block:
<button class="bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg">From inline OrgX</button></p><div>We can also use it in a orgx block<button class="bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg">From OrgX block</button></div></div></div></section></div></div></div><div id="outline-container-import-modules" class="outline-3"><a href="#import-modules"><h3 id="import-modules" class="cr-self-reference ">Import Modules</h3></a><div id="text-import-modules" class="outline-text-3"><p>
In MDX, we can import modules with normal <code>import</code> statements. In OrgX, we can do something similar with toplevel OrgX block and the <code>require</code> function.
</p><pre id="org0481cec" class="example">#+attr_orgx_toplevel: true
#+begin_orgx
(require &#x27;[clojure.string :as string])
#+end_orgx
</pre><p>
We can also do this with keyword metadata at the beginning of an Org file.
</p><pre id="orgb39a43f" class="example">#+ORGX_REQUIRE: [[clojure.string :as string]]
</pre><div><blockquote class="not-italic bg-stone-50 pl-4 py-2 border-l-3  my-4 border-sky-500"><div class="not-italic font-semibold mb-1 text-gray-700">Note</div><div class="not-italic"><p>
Settings in keyword metadata currently doesn&#x27;t support reader macros.
</p></div></blockquote></div></div></div><div id="outline-container-access-component-properties" class="outline-3"><a href="#access-component-properties"><h3 id="access-component-properties" class="cr-self-reference ">Access Component Properties</h3></a><div id="text-access-component-properties" class="outline-text-3"><p>
Similar to MDX, we can access the component&#x27;s properties with the <code>post-props</code> variable. Some metadata are also provided in the <code>post-props</code> variable.
</p><p>
The following metadata are provided by default:
</p><div class="grid overflow-hidden grid-rows-2 lg:grid-rows-1 lg:grid-cols-2 "><section class="my-4 relative border-sky-300 border-l-2 border-l-neutral-100"><div class="my-0 flex relative bg-neutral-100"><button class="font-medium text-neutral-700 bg-neutral-50 py-1 px-2 border-t-2 border-neutral-50 min-w-28 bg-neutral-50 border-t-neutral-100  text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400">Example</button></div><div class="my-0 bg-neutral-50 overflow-hidden px-2 h-full"><div><pre id="orgfd838c2" class="example">($ :pre
  (binding [*print-namespace-maps* true]
    (with-out-str (pprint/pprint post-props))))
</pre></div></div></section><section class="my-4 relative border-sky-300 border-l-2 border-l-neutral-100"><div class="my-0 flex relative bg-neutral-100"><button class="font-medium text-neutral-700 bg-neutral-50 py-1 px-2 border-t-2 border-neutral-50 min-w-28 bg-neutral-50 border-t-neutral-100  text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400">Result</button></div><div class="my-0 bg-neutral-50 overflow-hidden px-2 h-full"><div><pre>#:blog{:orgx true,
       :tags [],
       :unlisted false,
       :title
       &quot;Something Like MDX but with Clojure and Org-Mode for My Personal Blog: Part I&quot;,
       :show-toc? true,
       :file-path
       &quot;/home/void/Projects/imakira.github.io/blogs/some-like-mdx-but-with-clojure-and-org-mode.org&quot;,
       :author nil,
       :email nil,
       :description
       &quot;MDX  is a tool lets you write JavaScript and JSX in a Markdown file. It will then compile the Markdown file into a JavaScript file, so that we can use it f...&quot;,
       :id
       &quot;something-like-mdx-but-with-clojure-and-org-mode-for-my-personal-blog--part-i&quot;,
       :category &quot;Coding&quot;,
       :language &quot;en_US&quot;,
       :published-date &quot;2026-01-03T01:47:09+08:00&quot;,
       :content
       &quot;&lt;p&gt;\n&lt;a href=\&quot;https://mdxjs.com/\&quot;&gt;MDX&lt;/a&gt; is a tool lets you write JavaScript and JSX in a Markdown file. It will then compile the Markdown file into a JavaScript file, so that we can use it from other JavaScript code. I always wanted something similar for my personal blog. For some background, the blogging program is written in Clojure/ClojureScript. The blogging program runs on the JVM, it works by statically generating all the HTML and other files so that the result could be hosted on platforms like Github Pages. Posts of my blog are written in &lt;a href=\&quot;https://orgmode.org\&quot;&gt;org-mode&lt;/a&gt;. As the blog program runs on the JVM, directly using MDX is theoratically possible, but probably would create a lot of frictions.\n&lt;/p&gt;\n\n&lt;p&gt;\nTherefore I took some time to implement something similar. Albeit it is not fully tested, the result is quite satisfactory: I can embed Clojure code directly in an Org file, or use React components defined in Clojure code with native Org syntax. The Org file can then be converted into a Cljc file and used from other Clojure code.\n&lt;/p&gt;\n\n&lt;p&gt;\nIn the following sections I will call it &lt;code&gt;OrgX&lt;/code&gt;.\n&lt;/p&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-comp\&quot; data-wrapper-data=\&quot;info\&quot;&gt;&lt;p&gt;\n&lt;i&gt;This is part &lt;b&gt;one&lt;/b&gt; of the series, in this post I will show the features and in the next post I will describe the process of implementing it&lt;/i&gt;\n&lt;/p&gt;\n\n&lt;/pre&gt;\n&lt;div id=\&quot;outline-container-how-orgx-works\&quot; class=\&quot;outline-2\&quot;&gt;\n&lt;a href=\&quot;#how-orgx-works\&quot;&gt;&lt;h2 id=\&quot;how-orgx-works\&quot; class=\&quot;cr-self-reference \&quot;&gt;How OrgX Works&lt;/h2&gt;&lt;/a&gt;\n&lt;div class=\&quot;outline-text-2\&quot; id=\&quot;text-how-orgx-works\&quot;&gt;\n&lt;p&gt;\nSimilar to MDX, OrgX works by compiling the OrgX file into a &lt;a href=\&quot;https://clojure.org/guides/reader_conditionals\&quot;&gt;Cljc&lt;/a&gt; file. A basic OrgX file would look like this:\n&lt;/p&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-defui\&quot; data-wrapper-data=\&quot;orgx-example\&quot;&gt;&lt;pre class=\&quot;example\&quot; id=\&quot;org541b122\&quot;&gt;#+ORGX: true\n\n/*Hello* from @@orgx:($ :span &amp;quot;OrgX&amp;quot;)@@/\n\n#+begin_orgx\n($ :div (str &amp;quot;Hello&amp;quot; &amp;quot; World!&amp;quot;))\n#+end_orgx\n&lt;/pre&gt;\n\n&lt;/pre&gt;\n\n\n&lt;pre class=\&quot;orgx\&quot;&gt;($ tabs {:tab-list [{:name &amp;quot;example.org&amp;quot; :content ($ orgx-example)}]})\n\n&lt;/pre&gt;\n\n\n&lt;p&gt;\nIt will be converted into something similar to the following Clojure snippet.\n&lt;/p&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-defui\&quot; data-wrapper-data=\&quot;orgx-cljc\&quot;&gt;&lt;div class=\&quot;org-src-container\&quot;&gt;\n&lt;pre class=\&quot;cr-highlighted\&quot;&gt;&lt;code class=\&quot;lang-clojure\&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;(&lt;span class=\&quot;hljs-name\&quot;&gt;&lt;span class=\&quot;hljs-built_in\&quot;&gt;ns&lt;/span&gt;&lt;/span&gt; orgx.example\n  (&lt;span class=\&quot;hljs-symbol\&quot;&gt;:require&lt;/span&gt; [uix.core &lt;span class=\&quot;hljs-symbol\&quot;&gt;:as&lt;/span&gt; uix &lt;span class=\&quot;hljs-symbol\&quot;&gt;:refer&lt;/span&gt;\n             [defui use-state use-effect use-context $]]))\n\n(&lt;span class=\&quot;hljs-name\&quot;&gt;defui&lt;/span&gt; _comp [post-props]\n  ($ &lt;span class=\&quot;hljs-symbol\&quot;&gt;:&amp;lt;&amp;gt;&lt;/span&gt;\n     ($ &lt;span class=\&quot;hljs-symbol\&quot;&gt;:p&lt;/span&gt; {} ($ &lt;span class=\&quot;hljs-symbol\&quot;&gt;:i&lt;/span&gt; {}\n                 ($ &lt;span class=\&quot;hljs-symbol\&quot;&gt;:b&lt;/span&gt; {} &lt;span class=\&quot;hljs-string\&quot;&gt;&amp;quot;Hello&amp;quot;&lt;/span&gt;)\n                 &lt;span class=\&quot;hljs-string\&quot;&gt;&amp;quot; from &amp;quot;&lt;/span&gt;\n                 ($ &lt;span class=\&quot;hljs-symbol\&quot;&gt;:span&lt;/span&gt; &lt;span class=\&quot;hljs-string\&quot;&gt;&amp;quot;OrgX&amp;quot;&lt;/span&gt;)))\n     ($ &lt;span class=\&quot;hljs-symbol\&quot;&gt;:div&lt;/span&gt; (&lt;span class=\&quot;hljs-name\&quot;&gt;&lt;span class=\&quot;hljs-built_in\&quot;&gt;str&lt;/span&gt;&lt;/span&gt; &lt;span class=\&quot;hljs-string\&quot;&gt;&amp;quot;Hello&amp;quot;&lt;/span&gt; &lt;span class=\&quot;hljs-string\&quot;&gt;&amp;quot; World!&amp;quot;&lt;/span&gt;))))\n\n(&lt;span class=\&quot;hljs-name\&quot;&gt;defui&lt;/span&gt; component [props]\n  ($ _comp (&lt;span class=\&quot;hljs-name\&quot;&gt;&lt;span class=\&quot;hljs-built_in\&quot;&gt;merge&lt;/span&gt;&lt;/span&gt; (&lt;span class=\&quot;hljs-name\&quot;&gt;&lt;span class=\&quot;hljs-built_in\&quot;&gt;quote&lt;/span&gt;&lt;/span&gt; {#_&lt;span class=\&quot;hljs-string\&quot;&gt;&amp;quot;default properties&amp;quot;&lt;/span&gt;}) props)))\n&lt;/body&gt;&lt;/html&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;/div&gt;\n\n&lt;/pre&gt;\n\n&lt;pre class=\&quot;orgx\&quot;&gt;($ tabs {:tab-list [{:name &amp;quot;orgx/example.cljc&amp;quot; :content ($ orgx-cljc)}]})\n\n&lt;/pre&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-comp\&quot; data-wrapper-data=\&quot;note\&quot;&gt;&lt;p&gt;\nThe blogging program uses &lt;a href=\&quot;https://github.com/pitch-io/uix?tab=readme-ov-file\&quot;&gt;uix&lt;/a&gt; as its React wrapper, thus the generated Clojure code is using uix. Some uix functions like &lt;code&gt;$&lt;/code&gt; are also imported by default. \n&lt;/p&gt;\n\n&lt;/pre&gt;\n\n&lt;p&gt;\nAs you can see from this example:\n&lt;/p&gt;\n\n&lt;ul class=\&quot;org-ul\&quot;&gt;\n&lt;li&gt;We can &lt;code&gt;@@orgx:@@&lt;/code&gt; for inline Clojure code and &lt;code&gt;#+begin_orgx&lt;/code&gt; for Clojure blocks.&lt;/li&gt;\n&lt;li&gt;The embedded Clojure code are put in a component called &lt;code&gt;_comp&lt;/code&gt;, along with other contents in the Org file.&lt;/li&gt;\n&lt;li&gt;The outer &lt;code&gt;component&lt;/code&gt; wraps the &lt;code&gt;_comp&lt;/code&gt; component, its provides some metadata about this post related to the blogging program. More about this on the following sections.&lt;/li&gt;\n&lt;li&gt;We can use the &lt;code&gt;component&lt;/code&gt; component from other Clojure code.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\&quot;outline-container-basic-usage\&quot; class=\&quot;outline-2\&quot;&gt;\n&lt;a href=\&quot;#basic-usage\&quot;&gt;&lt;h2 id=\&quot;basic-usage\&quot; class=\&quot;cr-self-reference \&quot;&gt;Basic Usage&lt;/h2&gt;&lt;/a&gt;\n&lt;div class=\&quot;outline-text-2\&quot; id=\&quot;text-basic-usage\&quot;&gt;\n&lt;p&gt;\nAs we have seen from the earily example, &lt;code&gt;#+begin_orgx&lt;/code&gt; and &lt;code&gt;@@orgx:@@&lt;/code&gt; are the most basic structure for standalone and inline Clojure code, respectively.\n&lt;/p&gt;\n\n&lt;p&gt;\nWe can have a clickable button with the following code.\n&lt;/p&gt;\n\n&lt;pre class=\&quot;example\&quot; id=\&quot;org68e10f0\&quot;&gt;#+begin_orgx\n  ;; you can style it using tailwindcss\n  ($ :button {:class &amp;quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&amp;quot;\n     :on-click (fn [&amp;amp; _]\n                   #?(:cljs (js/alert &amp;quot;clicked!&amp;quot;)))}\n  &amp;quot;click me&amp;quot;)\n#+end_orgx\n&lt;/pre&gt;\n\n&lt;p&gt;\nThat will be rendered as:\n&lt;/p&gt;\n\n&lt;pre class=\&quot;orgx\&quot;&gt;  ($ :button {:class &amp;quot;my-2 bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&amp;quot; :on-click (fn [&amp;amp; _] #?(:cljs (js/alert &amp;quot;clicked!&amp;quot;)))} &amp;quot;Click Me&amp;quot;)\n\n&lt;/pre&gt;\n\n&lt;p&gt;\nNotice the &lt;a href=\&quot;https://clojure.org/guides/reader_conditionals\&quot;&gt;reader conditional macro&lt;/a&gt; &lt;code&gt;#?(:cljs)&lt;/code&gt;  . The generated Clojure code is in a Cljc file, therefore it pairs well with the server side rendering or static generation. However, it also means we need to put the platform specified code in the corresponding reader conditionals.\n&lt;/p&gt;\n\n&lt;pre class=\&quot;example\&quot; id=\&quot;org5dd6279\&quot;&gt;We can also use the button inline this way: @@orgx:($ :button {:class &amp;quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&amp;quot; :on-click (fn [&amp;amp; _] #?(:cljs (js/alert &amp;quot;clicked!&amp;quot;)))} &amp;quot;Click Me&amp;quot;)@@\n&lt;/pre&gt;\n\n&lt;p&gt;\nThe above snippet will be rendered as:\n&lt;/p&gt;\n\n&lt;p&gt;\nWe can also use the button inline this way: &lt;code class=\&quot;orgx\&quot;&gt;\n($ :button {:class &amp;quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&amp;quot; :on-click (fn [&amp;amp; _] #?(:cljs (js/alert &amp;quot;clicked!&amp;quot;)))} &amp;quot;Click Me&amp;quot;)\n&lt;/code&gt;\n&lt;/p&gt;\n&lt;/div&gt;\n&lt;div id=\&quot;outline-container-toplevel-clojure-code\&quot; class=\&quot;outline-3\&quot;&gt;\n&lt;a href=\&quot;#toplevel-clojure-code\&quot;&gt;&lt;h3 id=\&quot;toplevel-clojure-code\&quot; class=\&quot;cr-self-reference \&quot;&gt;Toplevel Clojure Code&lt;/h3&gt;&lt;/a&gt;\n&lt;div class=\&quot;outline-text-3\&quot; id=\&quot;text-toplevel-clojure-code\&quot;&gt;\n&lt;p&gt;\nYou may have noticed that, all the Clojure code being put in a component means that we can&#x27;t use Clojure code that only works on the top level like &lt;code&gt;defn&lt;/code&gt; or &lt;code&gt;require&lt;/code&gt;. To solve this, we can use &lt;code&gt;#+attr_orgx_toplevel: true&lt;/code&gt; to mark a OrgX block and make its contents appear in toplevel of the generated Clojure file.\n&lt;/p&gt;\n\n&lt;p&gt;\nLet&#x27;s go back to the button example, we can define a &lt;code&gt;my-button&lt;/code&gt; component with the following code:\n&lt;/p&gt;\n\n&lt;pre class=\&quot;example\&quot; id=\&quot;orga5c41a8\&quot;&gt;#+attr_orgx_toplevel: true\n#+begin_orgx\n(defui my-button [{:keys [children callback]}]\n    ($ :button {:class &amp;quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&amp;quot;\n       :on-click (fn [&amp;amp; _]\n                   (if callback (callback)))}\n    children))\n#+end_orgx\n&lt;/pre&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-toplevel=\&quot;\&quot;&gt;  (defui my-button [{:keys [children callback]}]\n      ($ :button {:class &amp;quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&amp;quot;\n         :on-click (fn [&amp;amp; _]\n                     (if callback (callback)))}\n      children))\n\n&lt;/pre&gt;\n\n&lt;p&gt;\nThe &lt;code&gt;defui&lt;/code&gt; will be put on the top level in the generated Clojure code, along side something like &lt;code&gt;_comp&lt;/code&gt;:\n&lt;/p&gt;\n\n&lt;div class=\&quot;org-src-container\&quot;&gt;\n&lt;pre class=\&quot;cr-highlighted\&quot;&gt;&lt;code class=\&quot;lang-clojure\&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;(&lt;span class=\&quot;hljs-name\&quot;&gt;&lt;span class=\&quot;hljs-built_in\&quot;&gt;ns&lt;/span&gt;&lt;/span&gt; ...)\n(&lt;span class=\&quot;hljs-name\&quot;&gt;defui&lt;/span&gt; my-button [{&lt;span class=\&quot;hljs-symbol\&quot;&gt;:keys&lt;/span&gt; [children callback]}]\n  ($ &lt;span class=\&quot;hljs-symbol\&quot;&gt;:button&lt;/span&gt; {&lt;span class=\&quot;hljs-symbol\&quot;&gt;:class&lt;/span&gt; &lt;span class=\&quot;hljs-string\&quot;&gt;&amp;quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&amp;quot;&lt;/span&gt;\n              &lt;span class=\&quot;hljs-symbol\&quot;&gt;:on-click&lt;/span&gt; (&lt;span class=\&quot;hljs-name\&quot;&gt;&lt;span class=\&quot;hljs-built_in\&quot;&gt;fn&lt;/span&gt;&lt;/span&gt; [&amp;amp; _]\n                          #?(&lt;span class=\&quot;hljs-symbol\&quot;&gt;:cljs&lt;/span&gt; (&lt;span class=\&quot;hljs-name\&quot;&gt;callback&lt;/span&gt;)))}\n     children))\n\n(&lt;span class=\&quot;hljs-name\&quot;&gt;defui&lt;/span&gt; _comp ...)\n&lt;/body&gt;&lt;/html&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;/div&gt;\n\n&lt;p&gt;\nWe can then easily use the &lt;code&gt;my-button&lt;/code&gt; component with either inline or standalone OrgX block.\n&lt;/p&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-defui\&quot; data-wrapper-data=\&quot;mybutton_example\&quot;&gt;&lt;pre class=\&quot;example\&quot; id=\&quot;org464ca5d\&quot;&gt;Inline OrgX block:\n@@orgx:($ my-button {:callback (fn [] #?(:cljs (js/alert &amp;quot;Hello From inline OrgX&amp;quot;)))} &amp;quot;From inline OrgX&amp;quot;)@@\n#+begin_orgx\n($ :div &amp;quot;We can also use it in a orgx block&amp;quot;\n    ($ my-button {:callback (fn [] #?(:cljs (js/alert &amp;quot;Hello from OrgX block!&amp;quot;)))}\n         &amp;quot;From OrgX block&amp;quot;))\n#+end_orgx\n&lt;/pre&gt;\n\n&lt;/pre&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-defui\&quot; data-wrapper-data=\&quot;mybutton_result\&quot;&gt;&lt;p&gt;\nInline OrgX block:\n&lt;code class=\&quot;orgx\&quot;&gt;\n($ my-button {:callback (fn [] #?(:cljs (js/alert &amp;quot;Hello From inline OrgX&amp;quot;)))} &amp;quot;From inline OrgX&amp;quot;)\n&lt;/code&gt;\n&lt;/p&gt;\n&lt;pre class=\&quot;orgx\&quot;&gt;($ :div &amp;quot;We can also use it in a orgx block&amp;quot;\n    ($ my-button {:callback (fn [] #?(:cljs (js/alert &amp;quot;Hello from OrgX block!&amp;quot;)))}\n         &amp;quot;From OrgX block&amp;quot;))\n\n&lt;/pre&gt;\n\n&lt;/pre&gt;\n\n&lt;pre class=\&quot;orgx\&quot;&gt;($ showcase {:showcase-name &amp;quot;Rendering&amp;quot;}\n  ($ tabs {:tab-list [{:name &amp;quot;Example Usage&amp;quot; :content ($ mybutton_example)}]})\n  ($ mybutton_result))\n\n&lt;/pre&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\&quot;outline-container-import-modules\&quot; class=\&quot;outline-3\&quot;&gt;\n&lt;a href=\&quot;#import-modules\&quot;&gt;&lt;h3 id=\&quot;import-modules\&quot; class=\&quot;cr-self-reference \&quot;&gt;Import Modules&lt;/h3&gt;&lt;/a&gt;\n&lt;div class=\&quot;outline-text-3\&quot; id=\&quot;text-import-modules\&quot;&gt;\n&lt;p&gt;\nIn MDX, we can import modules with normal &lt;code&gt;import&lt;/code&gt; statements. In OrgX, we can do something similar with toplevel OrgX block and the &lt;code&gt;require&lt;/code&gt; function.\n&lt;/p&gt;\n\n&lt;pre class=\&quot;example\&quot; id=\&quot;org0481cec\&quot;&gt;#+attr_orgx_toplevel: true\n#+begin_orgx\n(require &#x27;[clojure.string :as string])\n#+end_orgx\n&lt;/pre&gt;\n\n&lt;p&gt;\nWe can also do this with keyword metadata at the beginning of an Org file.\n&lt;/p&gt;\n\n&lt;pre class=\&quot;example\&quot; id=\&quot;orgb39a43f\&quot;&gt;#+ORGX_REQUIRE: [[clojure.string :as string]]\n&lt;/pre&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-comp\&quot; data-wrapper-data=\&quot;note\&quot;&gt;&lt;p&gt;\nSettings in keyword metadata currently doesn&#x27;t support reader macros.\n&lt;/p&gt;\n\n&lt;/pre&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\&quot;outline-container-access-component-properties\&quot; class=\&quot;outline-3\&quot;&gt;\n&lt;a href=\&quot;#access-component-properties\&quot;&gt;&lt;h3 id=\&quot;access-component-properties\&quot; class=\&quot;cr-self-reference \&quot;&gt;Access Component Properties&lt;/h3&gt;&lt;/a&gt;\n&lt;div class=\&quot;outline-text-3\&quot; id=\&quot;text-access-component-properties\&quot;&gt;\n&lt;p&gt;\nSimilar to MDX, we can access the component&#x27;s properties with the &lt;code&gt;post-props&lt;/code&gt; variable. Some metadata are also provided in the &lt;code&gt;post-props&lt;/code&gt; variable.\n&lt;/p&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-defui\&quot; data-wrapper-data=\&quot;metadata-example\&quot;&gt;&lt;pre class=\&quot;example\&quot; id=\&quot;orgfd838c2\&quot;&gt;($ :pre\n  (binding [*print-namespace-maps* true]\n    (with-out-str (pprint/pprint post-props))))\n&lt;/pre&gt;\n\n&lt;/pre&gt;\n\n&lt;p&gt;\nThe following metadata are provided by default:\n&lt;/p&gt;\n\n&lt;pre class=\&quot;orgx\&quot;&gt;($ showcase ($ tabs {:tab-list [{:name &amp;quot;Example&amp;quot; :content ($ metadata-example)}]}) ($ :pre (binding [*print-namespace-maps* true] (with-out-str (pprint/pprint post-props)))))\n\n&lt;/pre&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\&quot;outline-container-use-other-orgx-files-as-components\&quot; class=\&quot;outline-3\&quot;&gt;\n&lt;a href=\&quot;#use-other-orgx-files-as-components\&quot;&gt;&lt;h3 id=\&quot;use-other-orgx-files-as-components\&quot; class=\&quot;cr-self-reference \&quot;&gt;Use Other OrgX Files as Components&lt;/h3&gt;&lt;/a&gt;\n&lt;div class=\&quot;outline-text-3\&quot; id=\&quot;text-use-other-orgx-files-as-components\&quot;&gt;\n&lt;p&gt;\nBy default, OrgX files are compiled as Cljc files and will be put in the &lt;code&gt;orgx&lt;/code&gt; namespace. You can import them as described in &lt;a href=\&quot;#import-modules\&quot;&gt;Import Modules&lt;/a&gt;.\n&lt;/p&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\&quot;outline-container-use-orgx-with-native-org-syntax\&quot; class=\&quot;outline-2\&quot;&gt;\n&lt;a href=\&quot;#use-orgx-with-native-org-syntax\&quot;&gt;&lt;h2 id=\&quot;use-orgx-with-native-org-syntax\&quot; class=\&quot;cr-self-reference \&quot;&gt;Use OrgX With Native Org Syntax&lt;/h2&gt;&lt;/a&gt;\n&lt;div class=\&quot;outline-text-2\&quot; id=\&quot;text-use-orgx-with-native-org-syntax\&quot;&gt;\n&lt;/div&gt;\n&lt;div id=\&quot;outline-container-use-components\&quot; class=\&quot;outline-3\&quot;&gt;\n&lt;a href=\&quot;#use-components\&quot;&gt;&lt;h3 id=\&quot;use-components\&quot; class=\&quot;cr-self-reference \&quot;&gt;Use Components&lt;/h3&gt;&lt;/a&gt;\n&lt;div class=\&quot;outline-text-3\&quot; id=\&quot;text-use-components\&quot;&gt;\n&lt;p&gt;\nWriting &lt;code&gt;#+begin_orgx&lt;/code&gt; and Clojure code must be very tedious every time we want to use a simple component, like &lt;code&gt;note&lt;/code&gt; or &lt;code&gt;warning&lt;/code&gt; notice blocks.\n&lt;/p&gt;\n\n&lt;p&gt;\nTo solve this problem, a new syntax &lt;code&gt;#+orgx_{comp-name}&lt;/code&gt; has been introduced.\n&lt;/p&gt;\n\n&lt;p&gt;\nFor example:\n&lt;/p&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-defui\&quot; data-wrapper-data=\&quot;orgx_syntax_example\&quot;&gt;&lt;pre class=\&quot;example\&quot; id=\&quot;orgb00da0a\&quot;&gt;#+begin_orgx_note\nThis is a note\n\n+ /Normal/ Org markups *can* be used inside it\n\n@@orgx:($ :span &amp;quot;You can even nest OrgX syntax in it&amp;quot;)@@\n#+end_orgx_note\n&lt;/pre&gt;\n\n&lt;/pre&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-defui\&quot; data-wrapper-data=\&quot;orgx_syntax_result\&quot;&gt;&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-comp\&quot; data-wrapper-data=\&quot;note\&quot;&gt;&lt;p&gt;\nThis is a note\n&lt;/p&gt;\n\n&lt;ul class=\&quot;org-ul\&quot;&gt;\n&lt;li&gt;&lt;i&gt;Normal&lt;/i&gt; Org markups &lt;b&gt;can&lt;/b&gt; be used inside it&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;\n&lt;code class=\&quot;orgx\&quot;&gt;\n($ :span &amp;quot;You can even nest OrgX syntax in it&amp;quot;)\n&lt;/code&gt;\n&lt;/p&gt;\n\n&lt;/pre&gt;\n\n&lt;/pre&gt;\n\n&lt;pre class=\&quot;orgx\&quot;&gt;($ showcase {:showcase-name &amp;quot;Rendering&amp;quot;}\n  ($ tabs {:tab-list [{:name &amp;quot;Use Component With Org Syntax&amp;quot; :content ($  orgx_syntax_example)}]})\n  ($ orgx_syntax_result))\n\n&lt;/pre&gt;\n\n&lt;p&gt;\nIt works by passing the rendered content to the component &lt;code&gt;note&lt;/code&gt; as &lt;code&gt;children&lt;/code&gt;. All other Org markups or structures that can be used in an Org environment can also be used here. You can also nested other OrgX structures in it, except for top level Clojure definition and component building, which are not supported.\n&lt;/p&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-comp\&quot; data-wrapper-data=\&quot;note\&quot;&gt;&lt;p&gt;\nCurrently we can&#x27;t pass other properties to the component using this syntax, but that might change in the future.\n&lt;/p&gt;\n\n&lt;/pre&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\&quot;outline-container-build-components\&quot; class=\&quot;outline-3\&quot;&gt;\n&lt;a href=\&quot;#build-components\&quot;&gt;&lt;h3 id=\&quot;build-components\&quot; class=\&quot;cr-self-reference \&quot;&gt;Build Components&lt;/h3&gt;&lt;/a&gt;\n&lt;div class=\&quot;outline-text-3\&quot; id=\&quot;text-build-components\&quot;&gt;\n&lt;p&gt;\nSomething we may want to build a React component out of some Org blocks. Like we may want to pass two Org mode source blocks as arguments to a &lt;code&gt;tabs&lt;/code&gt; components.\nTo do this, we just need to add an annotation to the existing &lt;code&gt;#+begin_orgx_{comp-name}&lt;/code&gt; syntax:\n&lt;/p&gt;\n\n&lt;pre class=\&quot;example\&quot; id=\&quot;org8bac00a\&quot;&gt;#+attr_orgx_defui: true\n#+begin_orgx_my-note\n*@@orgx:(or (:note-text props) &amp;quot;Tip&amp;quot;)@@*\n#+begin_orgx\n(:children props)\n#+end_orgx\n#+end_orgx_my-note\n&lt;/pre&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-defui\&quot; data-wrapper-data=\&quot;my-note\&quot;&gt;&lt;p&gt;\n&lt;b&gt;&lt;code class=\&quot;orgx\&quot;&gt;\n(or (:note-text props) &amp;quot;Tip&amp;quot;)\n&lt;/code&gt;&lt;/b&gt;\n&lt;/p&gt;\n&lt;pre class=\&quot;orgx\&quot;&gt;(:children props)\n\n&lt;/pre&gt;\n\n&lt;/pre&gt;\n\n\n&lt;p&gt;\nAs shown in the example, we can use normal Org syntax along with OrgX snippets. We can also access the properties with the &lt;code&gt;props&lt;/code&gt; variable.\n&lt;/p&gt;\n\n&lt;p&gt;\nIn the above example we have defined a &lt;code&gt;my-note&lt;/code&gt; component, we can then use it with any aforementioned methods.\n&lt;/p&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-defui\&quot; data-wrapper-data=\&quot;my-note-example\&quot;&gt;&lt;pre class=\&quot;example\&quot; id=\&quot;org5e226fd\&quot;&gt;#+begin_orgx_my-note\nThis is a note!\n#+end_orgx_my-note\n&lt;/pre&gt;\n\n&lt;/pre&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-defui\&quot; data-wrapper-data=\&quot;my-note-result\&quot;&gt;&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-comp\&quot; data-wrapper-data=\&quot;my-note\&quot;&gt;&lt;p&gt;\nThis is a note!\n&lt;/p&gt;\n\n&lt;/pre&gt;\n\n&lt;/pre&gt;\n\n&lt;pre class=\&quot;orgx\&quot;&gt;($ showcase {:showcase-name &amp;quot;Rendering&amp;quot;}\n  ($ tabs {:tab-list [{:name &amp;quot;Example Usage&amp;quot; :content ($ my-note-example)}]})\n  ($ my-note-result))\n\n&lt;/pre&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\&quot;outline-container-inline-orgx-with-macros\&quot; class=\&quot;outline-3\&quot;&gt;\n&lt;a href=\&quot;#inline-orgx-with-macros\&quot;&gt;&lt;h3 id=\&quot;inline-orgx-with-macros\&quot; class=\&quot;cr-self-reference \&quot;&gt;Inline OrgX with Macros&lt;/h3&gt;&lt;/a&gt;\n&lt;div class=\&quot;outline-text-3\&quot; id=\&quot;text-inline-orgx-with-macros\&quot;&gt;\n&lt;p&gt;\nCurrently no similar syntax for inline OrgX is supported, however, it is fairly easy to make life easier with macros. Let&#x27;s go back to use &lt;code&gt;my-button&lt;/code&gt; as the example.\n&lt;/p&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-defui\&quot; data-wrapper-data=\&quot;macro-example\&quot;&gt;&lt;p&gt;\nWe can define a macro like:\n&lt;/p&gt;\n&lt;pre class=\&quot;example\&quot; id=\&quot;org7ea414f\&quot;&gt;#+MACRO: my-button @@orgx:($ my-button {:callback (or $2 nil)} $1)@@\n&lt;/pre&gt;\n\n\n&lt;p&gt;\nAnd then use it with:\n&lt;/p&gt;\n&lt;pre class=\&quot;example\&quot; id=\&quot;org0715d44\&quot;&gt;{{{my-button(&amp;quot;Using Macro&amp;quot;, #?(:cljs (fn [] (js/alert &amp;quot;Hello From Macro!&amp;quot;))))}}}\n&lt;/pre&gt;\n\n&lt;/pre&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-defui\&quot; data-wrapper-data=\&quot;macro-result\&quot;&gt;&lt;p&gt;\n&lt;code class=\&quot;orgx\&quot;&gt;\n($ my-button {:callback (or  #?(:cljs (fn [] (js/alert &amp;quot;Hello From Macro!&amp;quot;))) nil)} &amp;quot;Using Macro&amp;quot;)\n&lt;/code&gt;\n&lt;/p&gt;\n\n&lt;/pre&gt;\n\n&lt;pre class=\&quot;orgx\&quot;&gt;($ showcase {:showcase-name &amp;quot;Rendering&amp;quot; :class &amp;quot;lg:grid-cols-[minmax(0,1fr)_minmax(0,0.5fr)]&amp;quot;}\n  ($ tabs {:tab-list [{:name &amp;quot;Inline OrgX with Macro&amp;quot; :content ($ macro-example)}]})\n  ($ macro-result))\n\n&lt;/pre&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\&quot;outline-container-builtin-components\&quot; class=\&quot;outline-2\&quot;&gt;\n&lt;a href=\&quot;#builtin-components\&quot;&gt;&lt;h2 id=\&quot;builtin-components\&quot; class=\&quot;cr-self-reference \&quot;&gt;Builtin Components&lt;/h2&gt;&lt;/a&gt;\n&lt;div class=\&quot;outline-text-2\&quot; id=\&quot;text-builtin-components\&quot;&gt;\n&lt;p&gt;\nThe blogging program provides several builtin components, I will briefly describe their features.\n&lt;/p&gt;\n&lt;/div&gt;\n&lt;div id=\&quot;outline-container-simple-remarks\&quot; class=\&quot;outline-3\&quot;&gt;\n&lt;a href=\&quot;#simple-remarks\&quot;&gt;&lt;h3 id=\&quot;simple-remarks\&quot; class=\&quot;cr-self-reference \&quot;&gt;Simple Notice Blocks&lt;/h3&gt;&lt;/a&gt;\n&lt;div class=\&quot;outline-text-3\&quot; id=\&quot;text-simple-remarks\&quot;&gt;\n&lt;p&gt;\nIt provides most commons blocks like &lt;code&gt;info&lt;/code&gt;, &lt;code&gt;note&lt;/code&gt;, &lt;code&gt;warn&lt;/code&gt; and &lt;code&gt;error&lt;/code&gt;.\n&lt;/p&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-defui\&quot; data-wrapper-data=\&quot;remarks_example\&quot;&gt;&lt;pre class=\&quot;example\&quot; id=\&quot;org8943d7f\&quot;&gt;#+begin_orgx_info\nThis is an info\n#+end_orgx_info\n\n#+begin_orgx_note\nThis is a note\n#+end_orgx_note\n\n#+begin_orgx_warn\nThis is a warn\n#+end_orgx_warn\n\n#+begin_orgx_error\nThis is an error\n#+end_orgx_error\n\n&lt;/pre&gt;\n\n&lt;/pre&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-defui\&quot; data-wrapper-data=\&quot;remarks_result\&quot;&gt;&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-comp\&quot; data-wrapper-data=\&quot;info\&quot;&gt;&lt;p&gt;\nThis is an info\n&lt;/p&gt;\n\n&lt;/pre&gt;\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-comp\&quot; data-wrapper-data=\&quot;note\&quot;&gt;&lt;p&gt;\nThis is a note\n&lt;/p&gt;\n\n&lt;/pre&gt;\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-comp\&quot; data-wrapper-data=\&quot;warn\&quot;&gt;&lt;p&gt;\nThis is a warn\n&lt;/p&gt;\n\n&lt;/pre&gt;\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-comp\&quot; data-wrapper-data=\&quot;error\&quot;&gt;&lt;p&gt;\nThis is an error\n&lt;/p&gt;\n\n&lt;/pre&gt;\n\n&lt;/pre&gt;\n\n&lt;pre class=\&quot;orgx\&quot;&gt;($ showcase {:showcase-name &amp;quot;Rendering&amp;quot;}\n  ($ tabs {:tab-list [{:name &amp;quot;Remarks&amp;quot; :content ($ remarks_example)}]})\n  ($ remarks_result))\n\n&lt;/pre&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\&quot;outline-container-tabs\&quot; class=\&quot;outline-3\&quot;&gt;\n&lt;a href=\&quot;#tabs\&quot;&gt;&lt;h3 id=\&quot;tabs\&quot; class=\&quot;cr-self-reference \&quot;&gt;Tabs&lt;/h3&gt;&lt;/a&gt;\n&lt;div class=\&quot;outline-text-3\&quot; id=\&quot;text-tabs\&quot;&gt;\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-defui\&quot; data-wrapper-data=\&quot;code_tabs\&quot;&gt;&lt;div class=\&quot;org-src-container\&quot;&gt;\n&lt;pre class=\&quot;cr-highlighted\&quot;&gt;&lt;code class=\&quot;lang-clojure\&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;(&lt;span class=\&quot;hljs-name\&quot;&gt;defui&lt;/span&gt; tabs [{&lt;span class=\&quot;hljs-symbol\&quot;&gt;:keys&lt;/span&gt; [tab-list default-table class]}]\n  (&lt;span class=\&quot;hljs-name\&quot;&gt;&lt;span class=\&quot;hljs-built_in\&quot;&gt;let&lt;/span&gt;&lt;/span&gt; [[selected-tab set-selected-tab!] (&lt;span class=\&quot;hljs-name\&quot;&gt;use-state&lt;/span&gt; (&lt;span class=\&quot;hljs-name\&quot;&gt;&lt;span class=\&quot;hljs-built_in\&quot;&gt;or&lt;/span&gt;&lt;/span&gt; default-table\n                                                        (&lt;span class=\&quot;hljs-symbol\&quot;&gt;:name&lt;/span&gt; (&lt;span class=\&quot;hljs-name\&quot;&gt;&lt;span class=\&quot;hljs-built_in\&quot;&gt;first&lt;/span&gt;&lt;/span&gt; tab-list))))]\n    ($ &lt;span class=\&quot;hljs-symbol\&quot;&gt;:div.my-4.relative.border-sky-300.border-l-2.border-l-neutral-100&lt;/span&gt; {&lt;span class=\&quot;hljs-symbol\&quot;&gt;:class&lt;/span&gt; class}\n       ($ &lt;span class=\&quot;hljs-symbol\&quot;&gt;:div.my-0.flex.relative.bg-neutral-100&lt;/span&gt;\n          (&lt;span class=\&quot;hljs-name\&quot;&gt;&lt;span class=\&quot;hljs-built_in\&quot;&gt;map&lt;/span&gt;&lt;/span&gt; (&lt;span class=\&quot;hljs-name\&quot;&gt;&lt;span class=\&quot;hljs-built_in\&quot;&gt;fn&lt;/span&gt;&lt;/span&gt; [{&lt;span class=\&quot;hljs-symbol\&quot;&gt;:keys&lt;/span&gt; [name]}]\n                 ($ &lt;span class=\&quot;hljs-symbol\&quot;&gt;:button.font-medium.text-neutral-700.bg-neutral-50.py-1.px-2.border-t-2.border-neutral-50.min-w-28.bg-neutral-50.border-t-neutral-100&lt;/span&gt;\n                    {&lt;span class=\&quot;hljs-symbol\&quot;&gt;:key&lt;/span&gt; name\n                     &lt;span class=\&quot;hljs-symbol\&quot;&gt;:class&lt;/span&gt; (&lt;span class=\&quot;hljs-name\&quot;&gt;&lt;span class=\&quot;hljs-built_in\&quot;&gt;when&lt;/span&gt;&lt;/span&gt; (&lt;span class=\&quot;hljs-name\&quot;&gt;&lt;span class=\&quot;hljs-built_in\&quot;&gt;=&lt;/span&gt;&lt;/span&gt; name selected-tab)\n                              &lt;span class=\&quot;hljs-string\&quot;&gt;&amp;quot; text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400&amp;quot;&lt;/span&gt;)\n                     &lt;span class=\&quot;hljs-symbol\&quot;&gt;:on-click&lt;/span&gt; (&lt;span class=\&quot;hljs-name\&quot;&gt;&lt;span class=\&quot;hljs-built_in\&quot;&gt;fn&lt;/span&gt;&lt;/span&gt; []\n                                 #?(&lt;span class=\&quot;hljs-symbol\&quot;&gt;:cljs&lt;/span&gt;\n                                    (&lt;span class=\&quot;hljs-name\&quot;&gt;set-selected-tab!&lt;/span&gt; name)))}\n                    name))\n               tab-list))\n       ($ &lt;span class=\&quot;hljs-symbol\&quot;&gt;:div.my-0.bg-neutral-50.overflow-hidden.px-2.h-full&lt;/span&gt;\n          (&lt;span class=\&quot;hljs-symbol\&quot;&gt;:content&lt;/span&gt; (&lt;span class=\&quot;hljs-name\&quot;&gt;&lt;span class=\&quot;hljs-built_in\&quot;&gt;first&lt;/span&gt;&lt;/span&gt; (&lt;span class=\&quot;hljs-name\&quot;&gt;&lt;span class=\&quot;hljs-built_in\&quot;&gt;filter&lt;/span&gt;&lt;/span&gt; (&lt;span class=\&quot;hljs-name\&quot;&gt;&lt;span class=\&quot;hljs-built_in\&quot;&gt;fn&lt;/span&gt;&lt;/span&gt; [{&lt;span class=\&quot;hljs-symbol\&quot;&gt;:keys&lt;/span&gt; [name]}]\n                                     (&lt;span class=\&quot;hljs-name\&quot;&gt;&lt;span class=\&quot;hljs-built_in\&quot;&gt;=&lt;/span&gt;&lt;/span&gt; name selected-tab))\n                                   tab-list)))))))\n&lt;/body&gt;&lt;/html&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;/div&gt;\n\n&lt;/pre&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-defui\&quot; data-wrapper-data=\&quot;tabs_example\&quot;&gt;&lt;pre class=\&quot;example\&quot; id=\&quot;org9b21918\&quot;&gt;#+begin_orgx\n($ tabs {:tab-list [{:name &amp;quot;tabs.clj&amp;quot; :content ($ code_tabs)}\n                    {:name &amp;quot;tabs usage&amp;quot; :content ($ tabs_example)}]})\n#+end_orgx\n&lt;/pre&gt;\n\n&lt;/pre&gt;\n\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-defui\&quot; data-wrapper-data=\&quot;tabs_result\&quot;&gt;&lt;pre class=\&quot;orgx\&quot;&gt;($ tabs {:tab-list [{:name &amp;quot;tabs.clj&amp;quot; :content ($ code_tabs)}\n                      {:name &amp;quot;tabs usage&amp;quot; :content ($ tabs_example)}]})\n\n&lt;/pre&gt;\n\n&lt;/pre&gt;\n\n&lt;p&gt;\n&lt;code&gt;tabs&lt;/code&gt; is like tabs in a browser or a text editor.\n&lt;/p&gt;\n&lt;pre class=\&quot;orgx\&quot;&gt;($ showcase {:showcase-name &amp;quot;Rendering&amp;quot;}\n  ($ tabs {:tab-list [{:name &amp;quot;tabs usage&amp;quot; :content ($ tabs_example)}]})\n  ($ tabs_result))\n\n&lt;/pre&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\&quot;outline-container-split-layout\&quot; class=\&quot;outline-3\&quot;&gt;\n&lt;a href=\&quot;#split-layout\&quot;&gt;&lt;h3 id=\&quot;split-layout\&quot; class=\&quot;cr-self-reference \&quot;&gt;Split Layout&lt;/h3&gt;&lt;/a&gt;\n&lt;div class=\&quot;outline-text-3\&quot; id=\&quot;text-split-layout\&quot;&gt;\n&lt;p&gt;\nSplit layout lets you show two things side by side:\n&lt;/p&gt;\n\n&lt;pre class=\&quot;example\&quot; id=\&quot;orgda97b66\&quot;&gt;#+attr_orgx_defui: true\n#+begin_orgx_split_1\n#+begin_src clojure\n  ($ :button {:class &amp;quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&amp;quot;\n              :on-click (fn [&amp;amp; _]\n                          #?(:cljs (js/alert &amp;quot;clicked!&amp;quot;)))}\n     &amp;quot;Click Me&amp;quot;)\n#+end_src\n#+end_orgx_split_1\n\n#+attr_orgx_defui: true\n#+begin_orgx_split_2\n#+begin_orgx\n  ($ :button {:class &amp;quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&amp;quot;\n              :on-click (fn [&amp;amp; _]\n                          #?(:cljs (js/alert &amp;quot;clicked!&amp;quot;)))}\n     &amp;quot;Click Me&amp;quot;)\n#+end_orgx\n#+end_orgx_split_2\n\n#+begin_orgx\n($ split-layout\n($ tabs {:tab-list [{:name &amp;quot;button&amp;quot; :content ($ split_1)}]})\n($ tabs {:tab-list [{:name &amp;quot;showcase&amp;quot; :content ($ split_2)}]}))\n#+end_orgx\n&lt;/pre&gt;\n\n&lt;p&gt;\nWill be rendered as:\n&lt;/p&gt;\n\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-defui\&quot; data-wrapper-data=\&quot;split_1\&quot;&gt;&lt;div class=\&quot;org-src-container\&quot;&gt;\n&lt;pre class=\&quot;cr-highlighted\&quot;&gt;&lt;code class=\&quot;lang-clojure\&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;($ &lt;span class=\&quot;hljs-symbol\&quot;&gt;:button&lt;/span&gt; {&lt;span class=\&quot;hljs-symbol\&quot;&gt;:class&lt;/span&gt; &lt;span class=\&quot;hljs-string\&quot;&gt;&amp;quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&amp;quot;&lt;/span&gt;\n            &lt;span class=\&quot;hljs-symbol\&quot;&gt;:on-click&lt;/span&gt; (&lt;span class=\&quot;hljs-name\&quot;&gt;&lt;span class=\&quot;hljs-built_in\&quot;&gt;fn&lt;/span&gt;&lt;/span&gt; [&amp;amp; _]\n                        #?(&lt;span class=\&quot;hljs-symbol\&quot;&gt;:cljs&lt;/span&gt; (&lt;span class=\&quot;hljs-name\&quot;&gt;js/alert&lt;/span&gt; &lt;span class=\&quot;hljs-string\&quot;&gt;&amp;quot;clicked!&amp;quot;&lt;/span&gt;)))}\n   &lt;span class=\&quot;hljs-string\&quot;&gt;&amp;quot;Click Me&amp;quot;&lt;/span&gt;)\n&lt;/body&gt;&lt;/html&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;/div&gt;\n\n&lt;/pre&gt;\n\n&lt;pre class=\&quot;orgx\&quot; data-wrapper=\&quot;use-defui\&quot; data-wrapper-data=\&quot;split_2\&quot;&gt;&lt;pre class=\&quot;orgx\&quot;&gt;  ($ :button {:class &amp;quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&amp;quot;\n              :on-click (fn [&amp;amp; _]\n                          #?(:cljs (js/alert &amp;quot;clicked!&amp;quot;)))}\n     &amp;quot;Click Me&amp;quot;)\n\n&lt;/pre&gt;\n\n&lt;/pre&gt;\n\n&lt;pre class=\&quot;orgx\&quot;&gt;($ split-layout\n($ tabs {:tab-list [{:name &amp;quot;button&amp;quot; :content ($ split_1)}]})\n($ tabs {:tab-list [{:name &amp;quot;showcase&amp;quot; :content ($ split_2)}]}))\n\n&lt;/pre&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\&quot;outline-container-showcase\&quot; class=\&quot;outline-3\&quot;&gt;\n&lt;a href=\&quot;#showcase\&quot;&gt;&lt;h3 id=\&quot;showcase\&quot; class=\&quot;cr-self-reference \&quot;&gt;Showcase&lt;/h3&gt;&lt;/a&gt;\n&lt;div class=\&quot;outline-text-3\&quot; id=\&quot;text-showcase\&quot;&gt;\n&lt;p&gt;\nShowcase is a simple wrapper over &lt;code&gt;split-layout&lt;/code&gt; and &lt;code&gt;tabs&lt;/code&gt;. The &lt;code&gt;showcase&lt;/code&gt; component is used extensive in this post, such as the example in &lt;a href=\&quot;#simple-remarks\&quot;&gt;Simple Notice Blocks&lt;/a&gt; is coded as:\n&lt;/p&gt;\n\n&lt;pre class=\&quot;example\&quot; id=\&quot;org7ed5775\&quot;&gt;#+attr_orgx_defui: true\n#+begin_orgx_remarks_example\n#+begin_example\n#+begin_orgx_info\nThis is an info\n#+end_orgx_info\n\n#+begin_orgx_note\nThis is a note\n#+end_orgx_note\n\n#+begin_orgx_warn\nThis is a warn\n#+end_orgx_warn\n\n#+begin_orgx_error\nThis is an error\n#+end_orgx_error\n\n#+end_example\n#+end_orgx_remarks_example\n\n#+attr_orgx_defui: true\n#+begin_orgx_remarks_result\n#+begin_orgx_info\nThis is an info\n#+end_orgx_info\n#+begin_orgx_note\nThis is a note\n#+end_orgx_note\n#+begin_orgx_warn\nThis is a warn\n#+end_orgx_warn\n#+begin_orgx_error\nThis is an error\n#+end_orgx_error\n#+end_orgx_remarks_result\n\n#+begin_orgx\n($ showcase {:showcase-name &amp;quot;Rendering&amp;quot;}\n  ($ tabs {:tab-list [{:name &amp;quot;Remarks&amp;quot; :content ($ remarks_example)}]})\n  ($ remarks_result))\n#+end_orgx\n&lt;/pre&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\&quot;outline-container-conclusions\&quot; class=\&quot;outline-2\&quot;&gt;\n&lt;a href=\&quot;#conclusions\&quot;&gt;&lt;h2 id=\&quot;conclusions\&quot; class=\&quot;cr-self-reference \&quot;&gt;Conclusions&lt;/h2&gt;&lt;/a&gt;\n&lt;div class=\&quot;outline-text-2\&quot; id=\&quot;text-conclusions\&quot;&gt;\n&lt;/div&gt;\n&lt;div id=\&quot;outline-container-caveats\&quot; class=\&quot;outline-3\&quot;&gt;\n&lt;a href=\&quot;#caveats\&quot;&gt;&lt;h3 id=\&quot;caveats\&quot; class=\&quot;cr-self-reference \&quot;&gt;Caveats&lt;/h3&gt;&lt;/a&gt;\n&lt;div class=\&quot;outline-text-3\&quot; id=\&quot;text-caveats\&quot;&gt;\n&lt;p&gt;\nAlthough I have extensively used it in this demostration and will definitely use it in the future, there are some notably deficiency with the current implementation.\n&lt;/p&gt;\n\n&lt;ul class=\&quot;org-ul\&quot;&gt;\n&lt;li&gt;You need to read the logging to understand the problem if anything goes wrong. If you want to do SSR or SSG, the fact that the same code must be run on the JVM and the browser and produce the same result adds complexity.&lt;/li&gt;\n&lt;li&gt;The syntax still feels cumbersome in many cases, but that might be improved in the future.&lt;/li&gt;\n&lt;li&gt;The current implementation requires Emacs itself to convert the Org files into HTML, and Clojure code will then process the HTML. The most notably advantage of this method is that we can use the (basically) the full power of Org mode. However, it is also a lot of moving parts.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\&quot;outline-container-future-plans\&quot; class=\&quot;outline-3\&quot;&gt;\n&lt;a href=\&quot;#future-plans\&quot;&gt;&lt;h3 id=\&quot;future-plans\&quot; class=\&quot;cr-self-reference \&quot;&gt;Future Plans&lt;/h3&gt;&lt;/a&gt;\n&lt;div class=\&quot;outline-text-3\&quot; id=\&quot;text-future-plans\&quot;&gt;\n&lt;p&gt;\nI will describe the process of implement it in the next post of this series. Current the code is still coupled with my blogging program. I&#x27;m planning on make it a separate library in the future.\n&lt;/p&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&quot;,
       :orgx-require [[clojure.pprint :as pprint]],
       :modified-date &quot;2026-01-03T15:10:59+08:00&quot;}
</pre></div></div></section></div></div></div><div id="outline-container-use-other-orgx-files-as-components" class="outline-3"><a href="#use-other-orgx-files-as-components"><h3 id="use-other-orgx-files-as-components" class="cr-self-reference ">Use Other OrgX Files as Components</h3></a><div id="text-use-other-orgx-files-as-components" class="outline-text-3"><p>
By default, OrgX files are compiled as Cljc files and will be put in the <code>orgx</code> namespace. You can import them as described in <a href="#import-modules">Import Modules</a>.
</p></div></div></div><div id="outline-container-use-orgx-with-native-org-syntax" class="outline-2"><a href="#use-orgx-with-native-org-syntax"><h2 id="use-orgx-with-native-org-syntax" class="cr-self-reference ">Use OrgX With Native Org Syntax</h2></a><div id="text-use-orgx-with-native-org-syntax" class="outline-text-2"></div><div id="outline-container-use-components" class="outline-3"><a href="#use-components"><h3 id="use-components" class="cr-self-reference ">Use Components</h3></a><div id="text-use-components" class="outline-text-3"><p>
Writing <code>#+begin_orgx</code> and Clojure code must be very tedious every time we want to use a simple component, like <code>note</code> or <code>warning</code> notice blocks.
</p><p>
To solve this problem, a new syntax <code>#+orgx_{comp-name}</code> has been introduced.
</p><p>
For example:
</p><div class="grid overflow-hidden grid-rows-2 lg:grid-rows-1 lg:grid-cols-2 "><section class="my-4 relative border-sky-300 border-l-2 border-l-neutral-100"><div class="my-0 flex relative bg-neutral-100"><button class="font-medium text-neutral-700 bg-neutral-50 py-1 px-2 border-t-2 border-neutral-50 min-w-28 bg-neutral-50 border-t-neutral-100  text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400">Use Component With Org Syntax</button></div><div class="my-0 bg-neutral-50 overflow-hidden px-2 h-full"><div><pre id="orgb00da0a" class="example">#+begin_orgx_note
This is a note

+ /Normal/ Org markups *can* be used inside it

@@orgx:($ :span &quot;You can even nest OrgX syntax in it&quot;)@@
#+end_orgx_note
</pre></div></div></section><section class="my-4 relative border-sky-300 border-l-2 border-l-neutral-100"><div class="my-0 flex relative bg-neutral-100"><button class="font-medium text-neutral-700 bg-neutral-50 py-1 px-2 border-t-2 border-neutral-50 min-w-28 bg-neutral-50 border-t-neutral-100  text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400">Rendering</button></div><div class="my-0 bg-neutral-50 overflow-hidden px-2 h-full"><div><div><blockquote class="not-italic bg-stone-50 pl-4 py-2 border-l-3  my-4 border-sky-500"><div class="not-italic font-semibold mb-1 text-gray-700">Note</div><div class="not-italic"><p>
This is a note
</p><ul class="org-ul"><li><i>Normal</i> Org markups <b>can</b> be used inside it</li></ul><p><span>You can even nest OrgX syntax in it</span></p></div></blockquote></div></div></div></section></div><p>
It works by passing the rendered content to the component <code>note</code> as <code>children</code>. All other Org markups or structures that can be used in an Org environment can also be used here. You can also nested other OrgX structures in it, except for top level Clojure definition and component building, which are not supported.
</p><div><blockquote class="not-italic bg-stone-50 pl-4 py-2 border-l-3  my-4 border-sky-500"><div class="not-italic font-semibold mb-1 text-gray-700">Note</div><div class="not-italic"><p>
Currently we can&#x27;t pass other properties to the component using this syntax, but that might change in the future.
</p></div></blockquote></div></div></div><div id="outline-container-build-components" class="outline-3"><a href="#build-components"><h3 id="build-components" class="cr-self-reference ">Build Components</h3></a><div id="text-build-components" class="outline-text-3"><p>
Something we may want to build a React component out of some Org blocks. Like we may want to pass two Org mode source blocks as arguments to a <code>tabs</code> components.
To do this, we just need to add an annotation to the existing <code>#+begin_orgx_{comp-name}</code> syntax:
</p><pre id="org8bac00a" class="example">#+attr_orgx_defui: true
#+begin_orgx_my-note
*@@orgx:(or (:note-text props) &quot;Tip&quot;)@@*
#+begin_orgx
(:children props)
#+end_orgx
#+end_orgx_my-note
</pre><p>
As shown in the example, we can use normal Org syntax along with OrgX snippets. We can also access the properties with the <code>props</code> variable.
</p><p>
In the above example we have defined a <code>my-note</code> component, we can then use it with any aforementioned methods.
</p><div class="grid overflow-hidden grid-rows-2 lg:grid-rows-1 lg:grid-cols-2 "><section class="my-4 relative border-sky-300 border-l-2 border-l-neutral-100"><div class="my-0 flex relative bg-neutral-100"><button class="font-medium text-neutral-700 bg-neutral-50 py-1 px-2 border-t-2 border-neutral-50 min-w-28 bg-neutral-50 border-t-neutral-100  text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400">Example Usage</button></div><div class="my-0 bg-neutral-50 overflow-hidden px-2 h-full"><div><pre id="org5e226fd" class="example">#+begin_orgx_my-note
This is a note!
#+end_orgx_my-note
</pre></div></div></section><section class="my-4 relative border-sky-300 border-l-2 border-l-neutral-100"><div class="my-0 flex relative bg-neutral-100"><button class="font-medium text-neutral-700 bg-neutral-50 py-1 px-2 border-t-2 border-neutral-50 min-w-28 bg-neutral-50 border-t-neutral-100  text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400">Rendering</button></div><div class="my-0 bg-neutral-50 overflow-hidden px-2 h-full"><div><p><b>Tip</b></p><p>
This is a note!
</p></div></div></section></div></div></div><div id="outline-container-inline-orgx-with-macros" class="outline-3"><a href="#inline-orgx-with-macros"><h3 id="inline-orgx-with-macros" class="cr-self-reference ">Inline OrgX with Macros</h3></a><div id="text-inline-orgx-with-macros" class="outline-text-3"><p>
Currently no similar syntax for inline OrgX is supported, however, it is fairly easy to make life easier with macros. Let&#x27;s go back to use <code>my-button</code> as the example.
</p><div class="grid overflow-hidden grid-rows-2 lg:grid-rows-1 lg:grid-cols-2 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.5fr)]"><section class="my-4 relative border-sky-300 border-l-2 border-l-neutral-100"><div class="my-0 flex relative bg-neutral-100"><button class="font-medium text-neutral-700 bg-neutral-50 py-1 px-2 border-t-2 border-neutral-50 min-w-28 bg-neutral-50 border-t-neutral-100  text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400">Inline OrgX with Macro</button></div><div class="my-0 bg-neutral-50 overflow-hidden px-2 h-full"><div><p>
We can define a macro like:
</p><pre id="org7ea414f" class="example">#+MACRO: my-button @@orgx:($ my-button {:callback (or $2 nil)} $1)@@
</pre><p>
And then use it with:
</p><pre id="org0715d44" class="example">{{{my-button(&quot;Using Macro&quot;, #?(:cljs (fn [] (js/alert &quot;Hello From Macro!&quot;))))}}}
</pre></div></div></section><section class="my-4 relative border-sky-300 border-l-2 border-l-neutral-100"><div class="my-0 flex relative bg-neutral-100"><button class="font-medium text-neutral-700 bg-neutral-50 py-1 px-2 border-t-2 border-neutral-50 min-w-28 bg-neutral-50 border-t-neutral-100  text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400">Rendering</button></div><div class="my-0 bg-neutral-50 overflow-hidden px-2 h-full"><div><p><button class="bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg">Using Macro</button></p></div></div></section></div></div></div></div><div id="outline-container-builtin-components" class="outline-2"><a href="#builtin-components"><h2 id="builtin-components" class="cr-self-reference ">Builtin Components</h2></a><div id="text-builtin-components" class="outline-text-2"><p>
The blogging program provides several builtin components, I will briefly describe their features.
</p></div><div id="outline-container-simple-remarks" class="outline-3"><a href="#simple-remarks"><h3 id="simple-remarks" class="cr-self-reference ">Simple Notice Blocks</h3></a><div id="text-simple-remarks" class="outline-text-3"><p>
It provides most commons blocks like <code>info</code>, <code>note</code>, <code>warn</code> and <code>error</code>.
</p><div class="grid overflow-hidden grid-rows-2 lg:grid-rows-1 lg:grid-cols-2 "><section class="my-4 relative border-sky-300 border-l-2 border-l-neutral-100"><div class="my-0 flex relative bg-neutral-100"><button class="font-medium text-neutral-700 bg-neutral-50 py-1 px-2 border-t-2 border-neutral-50 min-w-28 bg-neutral-50 border-t-neutral-100  text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400">Remarks</button></div><div class="my-0 bg-neutral-50 overflow-hidden px-2 h-full"><div><pre id="org8943d7f" class="example">#+begin_orgx_info
This is an info
#+end_orgx_info

#+begin_orgx_note
This is a note
#+end_orgx_note

#+begin_orgx_warn
This is a warn
#+end_orgx_warn

#+begin_orgx_error
This is an error
#+end_orgx_error

</pre></div></div></section><section class="my-4 relative border-sky-300 border-l-2 border-l-neutral-100"><div class="my-0 flex relative bg-neutral-100"><button class="font-medium text-neutral-700 bg-neutral-50 py-1 px-2 border-t-2 border-neutral-50 min-w-28 bg-neutral-50 border-t-neutral-100  text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400">Rendering</button></div><div class="my-0 bg-neutral-50 overflow-hidden px-2 h-full"><div><div><blockquote class="not-italic bg-stone-50 pl-4 py-2 border-l-3  my-4 border-lime-500"><div class="not-italic font-semibold mb-1 text-gray-700">Info</div><div class="not-italic"><p>
This is an info
</p></div></blockquote></div><div><blockquote class="not-italic bg-stone-50 pl-4 py-2 border-l-3  my-4 border-sky-500"><div class="not-italic font-semibold mb-1 text-gray-700">Note</div><div class="not-italic"><p>
This is a note
</p></div></blockquote></div><div><blockquote class="not-italic bg-stone-50 pl-4 py-2 border-l-3  my-4 border-rose-500"><div class="not-italic font-semibold mb-1 text-gray-700">Warning</div><div class="not-italic"><p>
This is a warn
</p></div></blockquote></div><div><blockquote class="not-italic bg-stone-50 pl-4 py-2 border-l-3  my-4 border-red-600"><div class="not-italic font-semibold mb-1 text-gray-700">Error</div><div class="not-italic"><p>
This is an error
</p></div></blockquote></div></div></div></section></div></div></div><div id="outline-container-tabs" class="outline-3"><a href="#tabs"><h3 id="tabs" class="cr-self-reference ">Tabs</h3></a><div id="text-tabs" class="outline-text-3"><p><code>tabs</code> is like tabs in a browser or a text editor.
</p><div class="grid overflow-hidden grid-rows-2 lg:grid-rows-1 lg:grid-cols-2 "><section class="my-4 relative border-sky-300 border-l-2 border-l-neutral-100"><div class="my-0 flex relative bg-neutral-100"><button class="font-medium text-neutral-700 bg-neutral-50 py-1 px-2 border-t-2 border-neutral-50 min-w-28 bg-neutral-50 border-t-neutral-100  text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400">tabs usage</button></div><div class="my-0 bg-neutral-50 overflow-hidden px-2 h-full"><div><pre id="org9b21918" class="example">#+begin_orgx
($ tabs {:tab-list [{:name &quot;tabs.clj&quot; :content ($ code_tabs)}
                    {:name &quot;tabs usage&quot; :content ($ tabs_example)}]})
#+end_orgx
</pre></div></div></section><section class="my-4 relative border-sky-300 border-l-2 border-l-neutral-100"><div class="my-0 flex relative bg-neutral-100"><button class="font-medium text-neutral-700 bg-neutral-50 py-1 px-2 border-t-2 border-neutral-50 min-w-28 bg-neutral-50 border-t-neutral-100  text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400">Rendering</button></div><div class="my-0 bg-neutral-50 overflow-hidden px-2 h-full"><div><section class="my-4 relative border-sky-300 border-l-2 border-l-neutral-100"><div class="my-0 flex relative bg-neutral-100"><button class="font-medium text-neutral-700 bg-neutral-50 py-1 px-2 border-t-2 border-neutral-50 min-w-28 bg-neutral-50 border-t-neutral-100  text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400">tabs.clj</button><button class="font-medium text-neutral-700 bg-neutral-50 py-1 px-2 border-t-2 border-neutral-50 min-w-28 bg-neutral-50 border-t-neutral-100">tabs usage</button></div><div class="my-0 bg-neutral-50 overflow-hidden px-2 h-full"><div><div class="org-src-container"><pre class="cr-highlighted"><code class="lang-clojure">(<span class="hljs-name">defui</span> tabs [{<span class="hljs-symbol">:keys</span> [tab-list default-table class]}]
  (<span class="hljs-name"><span class="hljs-built_in">let</span></span> [[selected-tab set-selected-tab!] (<span class="hljs-name">use-state</span> (<span class="hljs-name"><span class="hljs-built_in">or</span></span> default-table
                                                        (<span class="hljs-symbol">:name</span> (<span class="hljs-name"><span class="hljs-built_in">first</span></span> tab-list))))]
    ($ <span class="hljs-symbol">:div.my-4.relative.border-sky-300.border-l-2.border-l-neutral-100</span> {<span class="hljs-symbol">:class</span> class}
       ($ <span class="hljs-symbol">:div.my-0.flex.relative.bg-neutral-100</span>
          (<span class="hljs-name"><span class="hljs-built_in">map</span></span> (<span class="hljs-name"><span class="hljs-built_in">fn</span></span> [{<span class="hljs-symbol">:keys</span> [name]}]
                 ($ <span class="hljs-symbol">:button.font-medium.text-neutral-700.bg-neutral-50.py-1.px-2.border-t-2.border-neutral-50.min-w-28.bg-neutral-50.border-t-neutral-100</span>
                    {<span class="hljs-symbol">:key</span> name
                     <span class="hljs-symbol">:class</span> (<span class="hljs-name"><span class="hljs-built_in">when</span></span> (<span class="hljs-name"><span class="hljs-built_in">=</span></span> name selected-tab)
                              <span class="hljs-string">&quot; text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400&quot;</span>)
                     <span class="hljs-symbol">:on-click</span> (<span class="hljs-name"><span class="hljs-built_in">fn</span></span> []
                                 #?(<span class="hljs-symbol">:cljs</span>
                                    (<span class="hljs-name">set-selected-tab!</span> name)))}
                    name))
               tab-list))
       ($ <span class="hljs-symbol">:div.my-0.bg-neutral-50.overflow-hidden.px-2.h-full</span>
          (<span class="hljs-symbol">:content</span> (<span class="hljs-name"><span class="hljs-built_in">first</span></span> (<span class="hljs-name"><span class="hljs-built_in">filter</span></span> (<span class="hljs-name"><span class="hljs-built_in">fn</span></span> [{<span class="hljs-symbol">:keys</span> [name]}]
                                     (<span class="hljs-name"><span class="hljs-built_in">=</span></span> name selected-tab))
                                   tab-list)))))))
</code></pre></div></div><div class="hidden"><pre id="org9b21918" class="example">#+begin_orgx
($ tabs {:tab-list [{:name &quot;tabs.clj&quot; :content ($ code_tabs)}
                    {:name &quot;tabs usage&quot; :content ($ tabs_example)}]})
#+end_orgx
</pre></div></div></section></div></div></section></div></div></div><div id="outline-container-split-layout" class="outline-3"><a href="#split-layout"><h3 id="split-layout" class="cr-self-reference ">Split Layout</h3></a><div id="text-split-layout" class="outline-text-3"><p>
Split layout lets you show two things side by side:
</p><pre id="orgda97b66" class="example">#+attr_orgx_defui: true
#+begin_orgx_split_1
#+begin_src clojure
  ($ :button {:class &quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&quot;
              :on-click (fn [&amp; _]
                          #?(:cljs (js/alert &quot;clicked!&quot;)))}
     &quot;Click Me&quot;)
#+end_src
#+end_orgx_split_1

#+attr_orgx_defui: true
#+begin_orgx_split_2
#+begin_orgx
  ($ :button {:class &quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&quot;
              :on-click (fn [&amp; _]
                          #?(:cljs (js/alert &quot;clicked!&quot;)))}
     &quot;Click Me&quot;)
#+end_orgx
#+end_orgx_split_2

#+begin_orgx
($ split-layout
($ tabs {:tab-list [{:name &quot;button&quot; :content ($ split_1)}]})
($ tabs {:tab-list [{:name &quot;showcase&quot; :content ($ split_2)}]}))
#+end_orgx
</pre><p>
Will be rendered as:
</p><div class="grid overflow-hidden grid-rows-2 lg:grid-rows-1 lg:grid-cols-2 "><section class="my-4 relative border-sky-300 border-l-2 border-l-neutral-100"><div class="my-0 flex relative bg-neutral-100"><button class="font-medium text-neutral-700 bg-neutral-50 py-1 px-2 border-t-2 border-neutral-50 min-w-28 bg-neutral-50 border-t-neutral-100  text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400">button</button></div><div class="my-0 bg-neutral-50 overflow-hidden px-2 h-full"><div><div class="org-src-container"><pre class="cr-highlighted"><code class="lang-clojure">($ <span class="hljs-symbol">:button</span> {<span class="hljs-symbol">:class</span> <span class="hljs-string">&quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&quot;</span>
            <span class="hljs-symbol">:on-click</span> (<span class="hljs-name"><span class="hljs-built_in">fn</span></span> [&amp; _]
                        #?(<span class="hljs-symbol">:cljs</span> (<span class="hljs-name">js/alert</span> <span class="hljs-string">&quot;clicked!&quot;</span>)))}
   <span class="hljs-string">&quot;Click Me&quot;</span>)
</code></pre></div></div></div></section><section class="my-4 relative border-sky-300 border-l-2 border-l-neutral-100"><div class="my-0 flex relative bg-neutral-100"><button class="font-medium text-neutral-700 bg-neutral-50 py-1 px-2 border-t-2 border-neutral-50 min-w-28 bg-neutral-50 border-t-neutral-100  text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400">showcase</button></div><div class="my-0 bg-neutral-50 overflow-hidden px-2 h-full"><div><button class="bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg">Click Me</button></div></div></section></div></div></div><div id="outline-container-showcase" class="outline-3"><a href="#showcase"><h3 id="showcase" class="cr-self-reference ">Showcase</h3></a><div id="text-showcase" class="outline-text-3"><p>
Showcase is a simple wrapper over <code>split-layout</code> and <code>tabs</code>. The <code>showcase</code> component is used extensive in this post, such as the example in <a href="#simple-remarks">Simple Notice Blocks</a> is coded as:
</p><pre id="org7ed5775" class="example">#+attr_orgx_defui: true
#+begin_orgx_remarks_example
#+begin_example
#+begin_orgx_info
This is an info
#+end_orgx_info

#+begin_orgx_note
This is a note
#+end_orgx_note

#+begin_orgx_warn
This is a warn
#+end_orgx_warn

#+begin_orgx_error
This is an error
#+end_orgx_error

#+end_example
#+end_orgx_remarks_example

#+attr_orgx_defui: true
#+begin_orgx_remarks_result
#+begin_orgx_info
This is an info
#+end_orgx_info
#+begin_orgx_note
This is a note
#+end_orgx_note
#+begin_orgx_warn
This is a warn
#+end_orgx_warn
#+begin_orgx_error
This is an error
#+end_orgx_error
#+end_orgx_remarks_result

#+begin_orgx
($ showcase {:showcase-name &quot;Rendering&quot;}
  ($ tabs {:tab-list [{:name &quot;Remarks&quot; :content ($ remarks_example)}]})
  ($ remarks_result))
#+end_orgx
</pre></div></div></div><div id="outline-container-conclusions" class="outline-2"><a href="#conclusions"><h2 id="conclusions" class="cr-self-reference ">Conclusions</h2></a><div id="text-conclusions" class="outline-text-2"></div><div id="outline-container-caveats" class="outline-3"><a href="#caveats"><h3 id="caveats" class="cr-self-reference ">Caveats</h3></a><div id="text-caveats" class="outline-text-3"><p>
Although I have extensively used it in this demostration and will definitely use it in the future, there are some notably deficiency with the current implementation.
</p><ul class="org-ul"><li>You need to read the logging to understand the problem if anything goes wrong. If you want to do SSR or SSG, the fact that the same code must be run on the JVM and the browser and produce the same result adds complexity.</li><li>The syntax still feels cumbersome in many cases, but that might be improved in the future.</li><li>The current implementation requires Emacs itself to convert the Org files into HTML, and Clojure code will then process the HTML. The most notably advantage of this method is that we can use the (basically) the full power of Org mode. However, it is also a lot of moving parts.</li></ul></div></div><div id="outline-container-future-plans" class="outline-3"><a href="#future-plans"><h3 id="future-plans" class="cr-self-reference ">Future Plans</h3></a><div id="text-future-plans" class="outline-text-3"><p>
I will describe the process of implement it in the next post of this series. Current the code is still coupled with my blogging program. I&#x27;m planning on make it a separate library in the future.
</p></div></div></div></div><div class="mt-4"><div class="border-neutral-400 border-l-2 text-[1.05rem] 2xl:text-lg w-78 fixed right-0 top-[13.5rem] z-200 max-h-[80vh] overflow-y-auto select-none hidden md:block xl:top-36  2xl:w-96"><ul><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-4" href="#how-orgx-works"><span>How OrgX Works</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-4" href="#basic-usage"><span>Basic Usage</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#toplevel-clojure-code"><span>Toplevel Clojure Code</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#import-modules"><span>Import Modules</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#access-component-properties"><span>Access Component Properties</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#use-other-orgx-files-as-components"><span>Use Other OrgX Files as Components</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-4" href="#use-orgx-with-native-org-syntax"><span>Use OrgX With Native Org Syntax</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#use-components"><span>Use Components</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#build-components"><span>Build Components</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#inline-orgx-with-macros"><span>Inline OrgX with Macros</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-4" href="#builtin-components"><span>Builtin Components</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#simple-remarks"><span>Simple Notice Blocks</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#tabs"><span>Tabs</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#split-layout"><span>Split Layout</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#showcase"><span>Showcase</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-4" href="#conclusions"><span>Conclusions</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#caveats"><span>Caveats</span></a></div></div></div></li><li class="my-1 list-inside text-neutral-600"><div class="relative group"><div class="absolute w-0 h-full group-hover:bg-sky-200 group-hover:bg-opacity-70 group-hover:w-full group-hover:h-full transition-all duration-300"></div><div class="relative w-full h-full"><div class="group w-full h-full"><a class="h-12 transition-all w-full h-full inline-block flex flex-col justify-center group-hover:text-[#0260B3] pl-8" href="#future-plans"><span>Future Plans</span></a></div></div></div></li></ul></div></div></div></div></main></div></div><script>window.__server_path = "/"</script><script>window.__cerulean_rehydrate = true;</script><script>globalThis["blog/something-like-mdx-but-with-clojure-and-org-mode-for-my-personal-blog--part-i"] = {"blog/orgx":true,"blog/tags":[],"blog/unlisted":false,"blog/title":"Something Like MDX but with Clojure and Org-Mode for My Personal Blog: Part I","blog/show-toc?":true,"blog/file-path":"/home/void/Projects/imakira.github.io/blogs/some-like-mdx-but-with-clojure-and-org-mode.org","blog/author":null,"blog/email":null,"blog/description":"MDX  is a tool lets you write JavaScript and JSX in a Markdown file. It will then compile the Markdown file into a JavaScript file, so that we can use it f...","blog/id":"something-like-mdx-but-with-clojure-and-org-mode-for-my-personal-blog--part-i","blog/category":"Coding","blog/language":"en_US","blog/published-date":"2026-01-03T01:47:09+08:00","blog/content":"<p>\n<a href=\"https://mdxjs.com/\">MDX</a> is a tool lets you write JavaScript and JSX in a Markdown file. It will then compile the Markdown file into a JavaScript file, so that we can use it from other JavaScript code. I always wanted something similar for my personal blog. For some background, the blogging program is written in Clojure/ClojureScript. The blogging program runs on the JVM, it works by statically generating all the HTML and other files so that the result could be hosted on platforms like Github Pages. Posts of my blog are written in <a href=\"https://orgmode.org\">org-mode</a>. As the blog program runs on the JVM, directly using MDX is theoratically possible, but probably would create a lot of frictions.\n</p>\n\n<p>\nTherefore I took some time to implement something similar. Albeit it is not fully tested, the result is quite satisfactory: I can embed Clojure code directly in an Org file, or use React components defined in Clojure code with native Org syntax. The Org file can then be converted into a Cljc file and used from other Clojure code.\n</p>\n\n<p>\nIn the following sections I will call it <code>OrgX</code>.\n</p>\n\n<pre class=\"orgx\" data-wrapper=\"use-comp\" data-wrapper-data=\"info\"><p>\n<i>This is part <b>one</b> of the series, in this post I will show the features and in the next post I will describe the process of implementing it</i>\n</p>\n\n</pre>\n<div id=\"outline-container-how-orgx-works\" class=\"outline-2\">\n<a href=\"#how-orgx-works\"><h2 id=\"how-orgx-works\" class=\"cr-self-reference \">How OrgX Works</h2></a>\n<div class=\"outline-text-2\" id=\"text-how-orgx-works\">\n<p>\nSimilar to MDX, OrgX works by compiling the OrgX file into a <a href=\"https://clojure.org/guides/reader_conditionals\">Cljc</a> file. A basic OrgX file would look like this:\n</p>\n\n<pre class=\"orgx\" data-wrapper=\"use-defui\" data-wrapper-data=\"orgx-example\"><pre class=\"example\" id=\"org541b122\">#+ORGX: true\n\n/*Hello* from @@orgx:($ :span &quot;OrgX&quot;)@@/\n\n#+begin_orgx\n($ :div (str &quot;Hello&quot; &quot; World!&quot;))\n#+end_orgx\n</pre>\n\n</pre>\n\n\n<pre class=\"orgx\">($ tabs {:tab-list [{:name &quot;example.org&quot; :content ($ orgx-example)}]})\n\n</pre>\n\n\n<p>\nIt will be converted into something similar to the following Clojure snippet.\n</p>\n\n<pre class=\"orgx\" data-wrapper=\"use-defui\" data-wrapper-data=\"orgx-cljc\"><div class=\"org-src-container\">\n<pre class=\"cr-highlighted\"><code class=\"lang-clojure\"><html><head></head><body>(<span class=\"hljs-name\"><span class=\"hljs-built_in\">ns</span></span> orgx.example\n  (<span class=\"hljs-symbol\">:require</span> [uix.core <span class=\"hljs-symbol\">:as</span> uix <span class=\"hljs-symbol\">:refer</span>\n             [defui use-state use-effect use-context $]]))\n\n(<span class=\"hljs-name\">defui</span> _comp [post-props]\n  ($ <span class=\"hljs-symbol\">:&lt;&gt;</span>\n     ($ <span class=\"hljs-symbol\">:p</span> {} ($ <span class=\"hljs-symbol\">:i</span> {}\n                 ($ <span class=\"hljs-symbol\">:b</span> {} <span class=\"hljs-string\">&quot;Hello&quot;</span>)\n                 <span class=\"hljs-string\">&quot; from &quot;</span>\n                 ($ <span class=\"hljs-symbol\">:span</span> <span class=\"hljs-string\">&quot;OrgX&quot;</span>)))\n     ($ <span class=\"hljs-symbol\">:div</span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">str</span></span> <span class=\"hljs-string\">&quot;Hello&quot;</span> <span class=\"hljs-string\">&quot; World!&quot;</span>))))\n\n(<span class=\"hljs-name\">defui</span> component [props]\n  ($ _comp (<span class=\"hljs-name\"><span class=\"hljs-built_in\">merge</span></span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">quote</span></span> {#_<span class=\"hljs-string\">&quot;default properties&quot;</span>}) props)))\n</body></html></code></pre>\n</div>\n\n</pre>\n\n<pre class=\"orgx\">($ tabs {:tab-list [{:name &quot;orgx/example.cljc&quot; :content ($ orgx-cljc)}]})\n\n</pre>\n\n<pre class=\"orgx\" data-wrapper=\"use-comp\" data-wrapper-data=\"note\"><p>\nThe blogging program uses <a href=\"https://github.com/pitch-io/uix?tab=readme-ov-file\">uix</a> as its React wrapper, thus the generated Clojure code is using uix. Some uix functions like <code>$</code> are also imported by default. \n</p>\n\n</pre>\n\n<p>\nAs you can see from this example:\n</p>\n\n<ul class=\"org-ul\">\n<li>We can <code>@@orgx:@@</code> for inline Clojure code and <code>#+begin_orgx</code> for Clojure blocks.</li>\n<li>The embedded Clojure code are put in a component called <code>_comp</code>, along with other contents in the Org file.</li>\n<li>The outer <code>component</code> wraps the <code>_comp</code> component, its provides some metadata about this post related to the blogging program. More about this on the following sections.</li>\n<li>We can use the <code>component</code> component from other Clojure code.</li>\n</ul>\n</div>\n</div>\n<div id=\"outline-container-basic-usage\" class=\"outline-2\">\n<a href=\"#basic-usage\"><h2 id=\"basic-usage\" class=\"cr-self-reference \">Basic Usage</h2></a>\n<div class=\"outline-text-2\" id=\"text-basic-usage\">\n<p>\nAs we have seen from the earily example, <code>#+begin_orgx</code> and <code>@@orgx:@@</code> are the most basic structure for standalone and inline Clojure code, respectively.\n</p>\n\n<p>\nWe can have a clickable button with the following code.\n</p>\n\n<pre class=\"example\" id=\"org68e10f0\">#+begin_orgx\n  ;; you can style it using tailwindcss\n  ($ :button {:class &quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&quot;\n     :on-click (fn [&amp; _]\n                   #?(:cljs (js/alert &quot;clicked!&quot;)))}\n  &quot;click me&quot;)\n#+end_orgx\n</pre>\n\n<p>\nThat will be rendered as:\n</p>\n\n<pre class=\"orgx\">  ($ :button {:class &quot;my-2 bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&quot; :on-click (fn [&amp; _] #?(:cljs (js/alert &quot;clicked!&quot;)))} &quot;Click Me&quot;)\n\n</pre>\n\n<p>\nNotice the <a href=\"https://clojure.org/guides/reader_conditionals\">reader conditional macro</a> <code>#?(:cljs)</code>  . The generated Clojure code is in a Cljc file, therefore it pairs well with the server side rendering or static generation. However, it also means we need to put the platform specified code in the corresponding reader conditionals.\n</p>\n\n<pre class=\"example\" id=\"org5dd6279\">We can also use the button inline this way: @@orgx:($ :button {:class &quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&quot; :on-click (fn [&amp; _] #?(:cljs (js/alert &quot;clicked!&quot;)))} &quot;Click Me&quot;)@@\n</pre>\n\n<p>\nThe above snippet will be rendered as:\n</p>\n\n<p>\nWe can also use the button inline this way: <code class=\"orgx\">\n($ :button {:class &quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&quot; :on-click (fn [&amp; _] #?(:cljs (js/alert &quot;clicked!&quot;)))} &quot;Click Me&quot;)\n</code>\n</p>\n</div>\n<div id=\"outline-container-toplevel-clojure-code\" class=\"outline-3\">\n<a href=\"#toplevel-clojure-code\"><h3 id=\"toplevel-clojure-code\" class=\"cr-self-reference \">Toplevel Clojure Code</h3></a>\n<div class=\"outline-text-3\" id=\"text-toplevel-clojure-code\">\n<p>\nYou may have noticed that, all the Clojure code being put in a component means that we can't use Clojure code that only works on the top level like <code>defn</code> or <code>require</code>. To solve this, we can use <code>#+attr_orgx_toplevel: true</code> to mark a OrgX block and make its contents appear in toplevel of the generated Clojure file.\n</p>\n\n<p>\nLet's go back to the button example, we can define a <code>my-button</code> component with the following code:\n</p>\n\n<pre class=\"example\" id=\"orga5c41a8\">#+attr_orgx_toplevel: true\n#+begin_orgx\n(defui my-button [{:keys [children callback]}]\n    ($ :button {:class &quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&quot;\n       :on-click (fn [&amp; _]\n                   (if callback (callback)))}\n    children))\n#+end_orgx\n</pre>\n\n<pre class=\"orgx\" data-toplevel=\"\">  (defui my-button [{:keys [children callback]}]\n      ($ :button {:class &quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&quot;\n         :on-click (fn [&amp; _]\n                     (if callback (callback)))}\n      children))\n\n</pre>\n\n<p>\nThe <code>defui</code> will be put on the top level in the generated Clojure code, along side something like <code>_comp</code>:\n</p>\n\n<div class=\"org-src-container\">\n<pre class=\"cr-highlighted\"><code class=\"lang-clojure\"><html><head></head><body>(<span class=\"hljs-name\"><span class=\"hljs-built_in\">ns</span></span> ...)\n(<span class=\"hljs-name\">defui</span> my-button [{<span class=\"hljs-symbol\">:keys</span> [children callback]}]\n  ($ <span class=\"hljs-symbol\">:button</span> {<span class=\"hljs-symbol\">:class</span> <span class=\"hljs-string\">&quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&quot;</span>\n              <span class=\"hljs-symbol\">:on-click</span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">fn</span></span> [&amp; _]\n                          #?(<span class=\"hljs-symbol\">:cljs</span> (<span class=\"hljs-name\">callback</span>)))}\n     children))\n\n(<span class=\"hljs-name\">defui</span> _comp ...)\n</body></html></code></pre>\n</div>\n\n<p>\nWe can then easily use the <code>my-button</code> component with either inline or standalone OrgX block.\n</p>\n\n<pre class=\"orgx\" data-wrapper=\"use-defui\" data-wrapper-data=\"mybutton_example\"><pre class=\"example\" id=\"org464ca5d\">Inline OrgX block:\n@@orgx:($ my-button {:callback (fn [] #?(:cljs (js/alert &quot;Hello From inline OrgX&quot;)))} &quot;From inline OrgX&quot;)@@\n#+begin_orgx\n($ :div &quot;We can also use it in a orgx block&quot;\n    ($ my-button {:callback (fn [] #?(:cljs (js/alert &quot;Hello from OrgX block!&quot;)))}\n         &quot;From OrgX block&quot;))\n#+end_orgx\n</pre>\n\n</pre>\n\n<pre class=\"orgx\" data-wrapper=\"use-defui\" data-wrapper-data=\"mybutton_result\"><p>\nInline OrgX block:\n<code class=\"orgx\">\n($ my-button {:callback (fn [] #?(:cljs (js/alert &quot;Hello From inline OrgX&quot;)))} &quot;From inline OrgX&quot;)\n</code>\n</p>\n<pre class=\"orgx\">($ :div &quot;We can also use it in a orgx block&quot;\n    ($ my-button {:callback (fn [] #?(:cljs (js/alert &quot;Hello from OrgX block!&quot;)))}\n         &quot;From OrgX block&quot;))\n\n</pre>\n\n</pre>\n\n<pre class=\"orgx\">($ showcase {:showcase-name &quot;Rendering&quot;}\n  ($ tabs {:tab-list [{:name &quot;Example Usage&quot; :content ($ mybutton_example)}]})\n  ($ mybutton_result))\n\n</pre>\n</div>\n</div>\n<div id=\"outline-container-import-modules\" class=\"outline-3\">\n<a href=\"#import-modules\"><h3 id=\"import-modules\" class=\"cr-self-reference \">Import Modules</h3></a>\n<div class=\"outline-text-3\" id=\"text-import-modules\">\n<p>\nIn MDX, we can import modules with normal <code>import</code> statements. In OrgX, we can do something similar with toplevel OrgX block and the <code>require</code> function.\n</p>\n\n<pre class=\"example\" id=\"org0481cec\">#+attr_orgx_toplevel: true\n#+begin_orgx\n(require '[clojure.string :as string])\n#+end_orgx\n</pre>\n\n<p>\nWe can also do this with keyword metadata at the beginning of an Org file.\n</p>\n\n<pre class=\"example\" id=\"orgb39a43f\">#+ORGX_REQUIRE: [[clojure.string :as string]]\n</pre>\n\n<pre class=\"orgx\" data-wrapper=\"use-comp\" data-wrapper-data=\"note\"><p>\nSettings in keyword metadata currently doesn't support reader macros.\n</p>\n\n</pre>\n</div>\n</div>\n<div id=\"outline-container-access-component-properties\" class=\"outline-3\">\n<a href=\"#access-component-properties\"><h3 id=\"access-component-properties\" class=\"cr-self-reference \">Access Component Properties</h3></a>\n<div class=\"outline-text-3\" id=\"text-access-component-properties\">\n<p>\nSimilar to MDX, we can access the component's properties with the <code>post-props</code> variable. Some metadata are also provided in the <code>post-props</code> variable.\n</p>\n\n<pre class=\"orgx\" data-wrapper=\"use-defui\" data-wrapper-data=\"metadata-example\"><pre class=\"example\" id=\"orgfd838c2\">($ :pre\n  (binding [*print-namespace-maps* true]\n    (with-out-str (pprint/pprint post-props))))\n</pre>\n\n</pre>\n\n<p>\nThe following metadata are provided by default:\n</p>\n\n<pre class=\"orgx\">($ showcase ($ tabs {:tab-list [{:name &quot;Example&quot; :content ($ metadata-example)}]}) ($ :pre (binding [*print-namespace-maps* true] (with-out-str (pprint/pprint post-props)))))\n\n</pre>\n</div>\n</div>\n<div id=\"outline-container-use-other-orgx-files-as-components\" class=\"outline-3\">\n<a href=\"#use-other-orgx-files-as-components\"><h3 id=\"use-other-orgx-files-as-components\" class=\"cr-self-reference \">Use Other OrgX Files as Components</h3></a>\n<div class=\"outline-text-3\" id=\"text-use-other-orgx-files-as-components\">\n<p>\nBy default, OrgX files are compiled as Cljc files and will be put in the <code>orgx</code> namespace. You can import them as described in <a href=\"#import-modules\">Import Modules</a>.\n</p>\n</div>\n</div>\n</div>\n<div id=\"outline-container-use-orgx-with-native-org-syntax\" class=\"outline-2\">\n<a href=\"#use-orgx-with-native-org-syntax\"><h2 id=\"use-orgx-with-native-org-syntax\" class=\"cr-self-reference \">Use OrgX With Native Org Syntax</h2></a>\n<div class=\"outline-text-2\" id=\"text-use-orgx-with-native-org-syntax\">\n</div>\n<div id=\"outline-container-use-components\" class=\"outline-3\">\n<a href=\"#use-components\"><h3 id=\"use-components\" class=\"cr-self-reference \">Use Components</h3></a>\n<div class=\"outline-text-3\" id=\"text-use-components\">\n<p>\nWriting <code>#+begin_orgx</code> and Clojure code must be very tedious every time we want to use a simple component, like <code>note</code> or <code>warning</code> notice blocks.\n</p>\n\n<p>\nTo solve this problem, a new syntax <code>#+orgx_{comp-name}</code> has been introduced.\n</p>\n\n<p>\nFor example:\n</p>\n\n<pre class=\"orgx\" data-wrapper=\"use-defui\" data-wrapper-data=\"orgx_syntax_example\"><pre class=\"example\" id=\"orgb00da0a\">#+begin_orgx_note\nThis is a note\n\n+ /Normal/ Org markups *can* be used inside it\n\n@@orgx:($ :span &quot;You can even nest OrgX syntax in it&quot;)@@\n#+end_orgx_note\n</pre>\n\n</pre>\n\n<pre class=\"orgx\" data-wrapper=\"use-defui\" data-wrapper-data=\"orgx_syntax_result\"><pre class=\"orgx\" data-wrapper=\"use-comp\" data-wrapper-data=\"note\"><p>\nThis is a note\n</p>\n\n<ul class=\"org-ul\">\n<li><i>Normal</i> Org markups <b>can</b> be used inside it</li>\n</ul>\n\n<p>\n<code class=\"orgx\">\n($ :span &quot;You can even nest OrgX syntax in it&quot;)\n</code>\n</p>\n\n</pre>\n\n</pre>\n\n<pre class=\"orgx\">($ showcase {:showcase-name &quot;Rendering&quot;}\n  ($ tabs {:tab-list [{:name &quot;Use Component With Org Syntax&quot; :content ($  orgx_syntax_example)}]})\n  ($ orgx_syntax_result))\n\n</pre>\n\n<p>\nIt works by passing the rendered content to the component <code>note</code> as <code>children</code>. All other Org markups or structures that can be used in an Org environment can also be used here. You can also nested other OrgX structures in it, except for top level Clojure definition and component building, which are not supported.\n</p>\n\n<pre class=\"orgx\" data-wrapper=\"use-comp\" data-wrapper-data=\"note\"><p>\nCurrently we can't pass other properties to the component using this syntax, but that might change in the future.\n</p>\n\n</pre>\n</div>\n</div>\n<div id=\"outline-container-build-components\" class=\"outline-3\">\n<a href=\"#build-components\"><h3 id=\"build-components\" class=\"cr-self-reference \">Build Components</h3></a>\n<div class=\"outline-text-3\" id=\"text-build-components\">\n<p>\nSomething we may want to build a React component out of some Org blocks. Like we may want to pass two Org mode source blocks as arguments to a <code>tabs</code> components.\nTo do this, we just need to add an annotation to the existing <code>#+begin_orgx_{comp-name}</code> syntax:\n</p>\n\n<pre class=\"example\" id=\"org8bac00a\">#+attr_orgx_defui: true\n#+begin_orgx_my-note\n*@@orgx:(or (:note-text props) &quot;Tip&quot;)@@*\n#+begin_orgx\n(:children props)\n#+end_orgx\n#+end_orgx_my-note\n</pre>\n\n<pre class=\"orgx\" data-wrapper=\"use-defui\" data-wrapper-data=\"my-note\"><p>\n<b><code class=\"orgx\">\n(or (:note-text props) &quot;Tip&quot;)\n</code></b>\n</p>\n<pre class=\"orgx\">(:children props)\n\n</pre>\n\n</pre>\n\n\n<p>\nAs shown in the example, we can use normal Org syntax along with OrgX snippets. We can also access the properties with the <code>props</code> variable.\n</p>\n\n<p>\nIn the above example we have defined a <code>my-note</code> component, we can then use it with any aforementioned methods.\n</p>\n\n<pre class=\"orgx\" data-wrapper=\"use-defui\" data-wrapper-data=\"my-note-example\"><pre class=\"example\" id=\"org5e226fd\">#+begin_orgx_my-note\nThis is a note!\n#+end_orgx_my-note\n</pre>\n\n</pre>\n\n<pre class=\"orgx\" data-wrapper=\"use-defui\" data-wrapper-data=\"my-note-result\"><pre class=\"orgx\" data-wrapper=\"use-comp\" data-wrapper-data=\"my-note\"><p>\nThis is a note!\n</p>\n\n</pre>\n\n</pre>\n\n<pre class=\"orgx\">($ showcase {:showcase-name &quot;Rendering&quot;}\n  ($ tabs {:tab-list [{:name &quot;Example Usage&quot; :content ($ my-note-example)}]})\n  ($ my-note-result))\n\n</pre>\n</div>\n</div>\n<div id=\"outline-container-inline-orgx-with-macros\" class=\"outline-3\">\n<a href=\"#inline-orgx-with-macros\"><h3 id=\"inline-orgx-with-macros\" class=\"cr-self-reference \">Inline OrgX with Macros</h3></a>\n<div class=\"outline-text-3\" id=\"text-inline-orgx-with-macros\">\n<p>\nCurrently no similar syntax for inline OrgX is supported, however, it is fairly easy to make life easier with macros. Let's go back to use <code>my-button</code> as the example.\n</p>\n\n<pre class=\"orgx\" data-wrapper=\"use-defui\" data-wrapper-data=\"macro-example\"><p>\nWe can define a macro like:\n</p>\n<pre class=\"example\" id=\"org7ea414f\">#+MACRO: my-button @@orgx:($ my-button {:callback (or $2 nil)} $1)@@\n</pre>\n\n\n<p>\nAnd then use it with:\n</p>\n<pre class=\"example\" id=\"org0715d44\">{{{my-button(&quot;Using Macro&quot;, #?(:cljs (fn [] (js/alert &quot;Hello From Macro!&quot;))))}}}\n</pre>\n\n</pre>\n\n<pre class=\"orgx\" data-wrapper=\"use-defui\" data-wrapper-data=\"macro-result\"><p>\n<code class=\"orgx\">\n($ my-button {:callback (or  #?(:cljs (fn [] (js/alert &quot;Hello From Macro!&quot;))) nil)} &quot;Using Macro&quot;)\n</code>\n</p>\n\n</pre>\n\n<pre class=\"orgx\">($ showcase {:showcase-name &quot;Rendering&quot; :class &quot;lg:grid-cols-[minmax(0,1fr)_minmax(0,0.5fr)]&quot;}\n  ($ tabs {:tab-list [{:name &quot;Inline OrgX with Macro&quot; :content ($ macro-example)}]})\n  ($ macro-result))\n\n</pre>\n</div>\n</div>\n</div>\n<div id=\"outline-container-builtin-components\" class=\"outline-2\">\n<a href=\"#builtin-components\"><h2 id=\"builtin-components\" class=\"cr-self-reference \">Builtin Components</h2></a>\n<div class=\"outline-text-2\" id=\"text-builtin-components\">\n<p>\nThe blogging program provides several builtin components, I will briefly describe their features.\n</p>\n</div>\n<div id=\"outline-container-simple-remarks\" class=\"outline-3\">\n<a href=\"#simple-remarks\"><h3 id=\"simple-remarks\" class=\"cr-self-reference \">Simple Notice Blocks</h3></a>\n<div class=\"outline-text-3\" id=\"text-simple-remarks\">\n<p>\nIt provides most commons blocks like <code>info</code>, <code>note</code>, <code>warn</code> and <code>error</code>.\n</p>\n\n<pre class=\"orgx\" data-wrapper=\"use-defui\" data-wrapper-data=\"remarks_example\"><pre class=\"example\" id=\"org8943d7f\">#+begin_orgx_info\nThis is an info\n#+end_orgx_info\n\n#+begin_orgx_note\nThis is a note\n#+end_orgx_note\n\n#+begin_orgx_warn\nThis is a warn\n#+end_orgx_warn\n\n#+begin_orgx_error\nThis is an error\n#+end_orgx_error\n\n</pre>\n\n</pre>\n\n<pre class=\"orgx\" data-wrapper=\"use-defui\" data-wrapper-data=\"remarks_result\"><pre class=\"orgx\" data-wrapper=\"use-comp\" data-wrapper-data=\"info\"><p>\nThis is an info\n</p>\n\n</pre>\n<pre class=\"orgx\" data-wrapper=\"use-comp\" data-wrapper-data=\"note\"><p>\nThis is a note\n</p>\n\n</pre>\n<pre class=\"orgx\" data-wrapper=\"use-comp\" data-wrapper-data=\"warn\"><p>\nThis is a warn\n</p>\n\n</pre>\n<pre class=\"orgx\" data-wrapper=\"use-comp\" data-wrapper-data=\"error\"><p>\nThis is an error\n</p>\n\n</pre>\n\n</pre>\n\n<pre class=\"orgx\">($ showcase {:showcase-name &quot;Rendering&quot;}\n  ($ tabs {:tab-list [{:name &quot;Remarks&quot; :content ($ remarks_example)}]})\n  ($ remarks_result))\n\n</pre>\n</div>\n</div>\n<div id=\"outline-container-tabs\" class=\"outline-3\">\n<a href=\"#tabs\"><h3 id=\"tabs\" class=\"cr-self-reference \">Tabs</h3></a>\n<div class=\"outline-text-3\" id=\"text-tabs\">\n<pre class=\"orgx\" data-wrapper=\"use-defui\" data-wrapper-data=\"code_tabs\"><div class=\"org-src-container\">\n<pre class=\"cr-highlighted\"><code class=\"lang-clojure\"><html><head></head><body>(<span class=\"hljs-name\">defui</span> tabs [{<span class=\"hljs-symbol\">:keys</span> [tab-list default-table class]}]\n  (<span class=\"hljs-name\"><span class=\"hljs-built_in\">let</span></span> [[selected-tab set-selected-tab!] (<span class=\"hljs-name\">use-state</span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">or</span></span> default-table\n                                                        (<span class=\"hljs-symbol\">:name</span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">first</span></span> tab-list))))]\n    ($ <span class=\"hljs-symbol\">:div.my-4.relative.border-sky-300.border-l-2.border-l-neutral-100</span> {<span class=\"hljs-symbol\">:class</span> class}\n       ($ <span class=\"hljs-symbol\">:div.my-0.flex.relative.bg-neutral-100</span>\n          (<span class=\"hljs-name\"><span class=\"hljs-built_in\">map</span></span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">fn</span></span> [{<span class=\"hljs-symbol\">:keys</span> [name]}]\n                 ($ <span class=\"hljs-symbol\">:button.font-medium.text-neutral-700.bg-neutral-50.py-1.px-2.border-t-2.border-neutral-50.min-w-28.bg-neutral-50.border-t-neutral-100</span>\n                    {<span class=\"hljs-symbol\">:key</span> name\n                     <span class=\"hljs-symbol\">:class</span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">when</span></span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">=</span></span> name selected-tab)\n                              <span class=\"hljs-string\">&quot; text-sky-800 border-sky-400 bg-sky-100 border-t-sky-400&quot;</span>)\n                     <span class=\"hljs-symbol\">:on-click</span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">fn</span></span> []\n                                 #?(<span class=\"hljs-symbol\">:cljs</span>\n                                    (<span class=\"hljs-name\">set-selected-tab!</span> name)))}\n                    name))\n               tab-list))\n       ($ <span class=\"hljs-symbol\">:div.my-0.bg-neutral-50.overflow-hidden.px-2.h-full</span>\n          (<span class=\"hljs-symbol\">:content</span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">first</span></span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">filter</span></span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">fn</span></span> [{<span class=\"hljs-symbol\">:keys</span> [name]}]\n                                     (<span class=\"hljs-name\"><span class=\"hljs-built_in\">=</span></span> name selected-tab))\n                                   tab-list)))))))\n</body></html></code></pre>\n</div>\n\n</pre>\n\n<pre class=\"orgx\" data-wrapper=\"use-defui\" data-wrapper-data=\"tabs_example\"><pre class=\"example\" id=\"org9b21918\">#+begin_orgx\n($ tabs {:tab-list [{:name &quot;tabs.clj&quot; :content ($ code_tabs)}\n                    {:name &quot;tabs usage&quot; :content ($ tabs_example)}]})\n#+end_orgx\n</pre>\n\n</pre>\n\n\n<pre class=\"orgx\" data-wrapper=\"use-defui\" data-wrapper-data=\"tabs_result\"><pre class=\"orgx\">($ tabs {:tab-list [{:name &quot;tabs.clj&quot; :content ($ code_tabs)}\n                      {:name &quot;tabs usage&quot; :content ($ tabs_example)}]})\n\n</pre>\n\n</pre>\n\n<p>\n<code>tabs</code> is like tabs in a browser or a text editor.\n</p>\n<pre class=\"orgx\">($ showcase {:showcase-name &quot;Rendering&quot;}\n  ($ tabs {:tab-list [{:name &quot;tabs usage&quot; :content ($ tabs_example)}]})\n  ($ tabs_result))\n\n</pre>\n</div>\n</div>\n<div id=\"outline-container-split-layout\" class=\"outline-3\">\n<a href=\"#split-layout\"><h3 id=\"split-layout\" class=\"cr-self-reference \">Split Layout</h3></a>\n<div class=\"outline-text-3\" id=\"text-split-layout\">\n<p>\nSplit layout lets you show two things side by side:\n</p>\n\n<pre class=\"example\" id=\"orgda97b66\">#+attr_orgx_defui: true\n#+begin_orgx_split_1\n#+begin_src clojure\n  ($ :button {:class &quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&quot;\n              :on-click (fn [&amp; _]\n                          #?(:cljs (js/alert &quot;clicked!&quot;)))}\n     &quot;Click Me&quot;)\n#+end_src\n#+end_orgx_split_1\n\n#+attr_orgx_defui: true\n#+begin_orgx_split_2\n#+begin_orgx\n  ($ :button {:class &quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&quot;\n              :on-click (fn [&amp; _]\n                          #?(:cljs (js/alert &quot;clicked!&quot;)))}\n     &quot;Click Me&quot;)\n#+end_orgx\n#+end_orgx_split_2\n\n#+begin_orgx\n($ split-layout\n($ tabs {:tab-list [{:name &quot;button&quot; :content ($ split_1)}]})\n($ tabs {:tab-list [{:name &quot;showcase&quot; :content ($ split_2)}]}))\n#+end_orgx\n</pre>\n\n<p>\nWill be rendered as:\n</p>\n\n\n<pre class=\"orgx\" data-wrapper=\"use-defui\" data-wrapper-data=\"split_1\"><div class=\"org-src-container\">\n<pre class=\"cr-highlighted\"><code class=\"lang-clojure\"><html><head></head><body>($ <span class=\"hljs-symbol\">:button</span> {<span class=\"hljs-symbol\">:class</span> <span class=\"hljs-string\">&quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&quot;</span>\n            <span class=\"hljs-symbol\">:on-click</span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">fn</span></span> [&amp; _]\n                        #?(<span class=\"hljs-symbol\">:cljs</span> (<span class=\"hljs-name\">js/alert</span> <span class=\"hljs-string\">&quot;clicked!&quot;</span>)))}\n   <span class=\"hljs-string\">&quot;Click Me&quot;</span>)\n</body></html></code></pre>\n</div>\n\n</pre>\n\n<pre class=\"orgx\" data-wrapper=\"use-defui\" data-wrapper-data=\"split_2\"><pre class=\"orgx\">  ($ :button {:class &quot;bg-sky-600 text-neutral-50 py-1 px-2 rounded-lg&quot;\n              :on-click (fn [&amp; _]\n                          #?(:cljs (js/alert &quot;clicked!&quot;)))}\n     &quot;Click Me&quot;)\n\n</pre>\n\n</pre>\n\n<pre class=\"orgx\">($ split-layout\n($ tabs {:tab-list [{:name &quot;button&quot; :content ($ split_1)}]})\n($ tabs {:tab-list [{:name &quot;showcase&quot; :content ($ split_2)}]}))\n\n</pre>\n</div>\n</div>\n<div id=\"outline-container-showcase\" class=\"outline-3\">\n<a href=\"#showcase\"><h3 id=\"showcase\" class=\"cr-self-reference \">Showcase</h3></a>\n<div class=\"outline-text-3\" id=\"text-showcase\">\n<p>\nShowcase is a simple wrapper over <code>split-layout</code> and <code>tabs</code>. The <code>showcase</code> component is used extensive in this post, such as the example in <a href=\"#simple-remarks\">Simple Notice Blocks</a> is coded as:\n</p>\n\n<pre class=\"example\" id=\"org7ed5775\">#+attr_orgx_defui: true\n#+begin_orgx_remarks_example\n#+begin_example\n#+begin_orgx_info\nThis is an info\n#+end_orgx_info\n\n#+begin_orgx_note\nThis is a note\n#+end_orgx_note\n\n#+begin_orgx_warn\nThis is a warn\n#+end_orgx_warn\n\n#+begin_orgx_error\nThis is an error\n#+end_orgx_error\n\n#+end_example\n#+end_orgx_remarks_example\n\n#+attr_orgx_defui: true\n#+begin_orgx_remarks_result\n#+begin_orgx_info\nThis is an info\n#+end_orgx_info\n#+begin_orgx_note\nThis is a note\n#+end_orgx_note\n#+begin_orgx_warn\nThis is a warn\n#+end_orgx_warn\n#+begin_orgx_error\nThis is an error\n#+end_orgx_error\n#+end_orgx_remarks_result\n\n#+begin_orgx\n($ showcase {:showcase-name &quot;Rendering&quot;}\n  ($ tabs {:tab-list [{:name &quot;Remarks&quot; :content ($ remarks_example)}]})\n  ($ remarks_result))\n#+end_orgx\n</pre>\n</div>\n</div>\n</div>\n<div id=\"outline-container-conclusions\" class=\"outline-2\">\n<a href=\"#conclusions\"><h2 id=\"conclusions\" class=\"cr-self-reference \">Conclusions</h2></a>\n<div class=\"outline-text-2\" id=\"text-conclusions\">\n</div>\n<div id=\"outline-container-caveats\" class=\"outline-3\">\n<a href=\"#caveats\"><h3 id=\"caveats\" class=\"cr-self-reference \">Caveats</h3></a>\n<div class=\"outline-text-3\" id=\"text-caveats\">\n<p>\nAlthough I have extensively used it in this demostration and will definitely use it in the future, there are some notably deficiency with the current implementation.\n</p>\n\n<ul class=\"org-ul\">\n<li>You need to read the logging to understand the problem if anything goes wrong. If you want to do SSR or SSG, the fact that the same code must be run on the JVM and the browser and produce the same result adds complexity.</li>\n<li>The syntax still feels cumbersome in many cases, but that might be improved in the future.</li>\n<li>The current implementation requires Emacs itself to convert the Org files into HTML, and Clojure code will then process the HTML. The most notably advantage of this method is that we can use the (basically) the full power of Org mode. However, it is also a lot of moving parts.</li>\n</ul>\n</div>\n</div>\n<div id=\"outline-container-future-plans\" class=\"outline-3\">\n<a href=\"#future-plans\"><h3 id=\"future-plans\" class=\"cr-self-reference \">Future Plans</h3></a>\n<div class=\"outline-text-3\" id=\"text-future-plans\">\n<p>\nI will describe the process of implement it in the next post of this series. Current the code is still coupled with my blogging program. I'm planning on make it a separate library in the future.\n</p>\n</div>\n</div>\n</div>\n","blog/orgx-require":[["clojure.pprint","as","pprint"]],"blog/modified-date":"2026-01-03T15:10:59+08:00"};</script><script src="/js/./orgx.something-like-mdx-but-with-clojure-and-org-mode-for-my-personal-blog--part-i.js" type="module"></script><script type="module">import * as exps  from '/js/./orgx.something-like-mdx-but-with-clojure-and-org-mode-for-my-personal-blog--part-i.js';
window['__orgx.something-like-mdx-but-with-clojure-and-org-mode-for-my-personal-blog--part-i'] = exps;</script><script defer="defer" src="/js/main.js" type="module"></script></body></html>